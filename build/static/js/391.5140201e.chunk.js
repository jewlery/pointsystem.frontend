"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[391],{3580:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);var a=n(72772),r=n(44414);const i=e=>{let{title:t,description:n,children:i}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(a.m,{children:[(0,r.jsx)("title",{children:t}),(0,r.jsx)("meta",{name:"description",content:n})]}),i]})}},92206:(e,t,n)=>{n.d(t,{A:()=>s});n(9950);var a=n(59254),r=n(93038),i=n(44414);const l=(0,a.Ay)("span")((e=>{let{theme:t}=e;return{borderRadius:3,width:19,height:19,marginLeft:"4px",boxShadow:"dark"===t.palette.mode?`0 0 0 1px ${t.palette.grey[200]}`:`inset 0 0 0 1px ${t.palette.grey[300]}`,backgroundColor:"transparent",".Mui-focusVisible &":{outline:"dark"===t.palette.mode?`0px auto ${t.palette.grey[200]}`:`0px auto  ${t.palette.grey[300]}`,outlineOffset:2},"input:hover ~ &":{backgroundColor:(t.palette.mode,t.palette.primary)},"input:disabled ~ &":{boxShadow:"none",background:t.palette.grey[100]}}})),o=(0,a.Ay)(l)({boxShadow:"none",width:19,height:19,"&:before":{display:"block",width:19,height:19,backgroundImage:"url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12 5c-.28 0-.53.11-.71.29L7 9.59l-2.29-2.3a1.003 1.003 0 00-1.42 1.42l3 3c.18.18.43.29.71.29s.53-.11.71-.29l5-5A1.003 1.003 0 0012 5z' fill='%23fff'/%3E%3C/svg%3E\")",content:'""'}});const s=function(e){return(0,i.jsx)(r.A,{disableRipple:!0,color:e.color?e.color:"default",checkedIcon:(0,i.jsx)(o,{sx:{backgroundColor:e.color?`${e.color}.main`:"primary.main"}}),icon:(0,i.jsx)(l,{}),inputProps:{"aria-label":"Checkbox demo"},...e})}},25803:(e,t,n)=>{n.d(t,{A:()=>l});n(9950);var a=n(59254),r=n(70006),i=n(44414);const l=(0,a.Ay)((e=>(0,i.jsx)(r.A,{...e})))()},23366:(e,t,n)=>{n.d(t,{A:()=>l});n(9950);var a=n(59254),r=n(29925),i=n(44414);const l=(0,a.Ay)((e=>(0,i.jsx)(r.A,{...e})))((e=>{let{theme:t}=e;return{"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:t.palette.text.secondary,opacity:"0.8"},"& .MuiOutlinedInput-input.Mui-disabled::-webkit-input-placeholder":{color:t.palette.text.secondary,opacity:"1"},"& .Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.grey[200]}}}))},41541:(e,t,n)=>{n.d(t,{A:()=>u});n(9950);var a=n(60899),r=n(82053),i=n(52432),l=n(36080),o=n(16491),s=n(42074);const d=n.p+"static/media/ChatBc.62cf6334552b0c3ed7eb.png";var c=n(85111),h=n(44414);const u=e=>{let{subtitle:t,items:n,title:u,children:p}=e;return(0,h.jsxs)(a.Ay,{container:!0,sx:{backgroundColor:"primary.light",borderRadius:e=>e.shape.borderRadius/4,p:"30px 25px 20px",marginBottom:"30px",position:"relative",overflow:"hidden"},children:[(0,h.jsxs)(a.Ay,{item:!0,xs:12,sm:6,lg:8,mb:1,children:[(0,h.jsx)(r.A,{variant:"h4",children:u}),(0,h.jsx)(r.A,{color:"textSecondary",variant:"h6",fontWeight:400,mt:.8,mb:0,children:t}),(0,h.jsx)(i.A,{separator:(0,h.jsx)(c.ABt,{size:"5",fill:"textSecondary",fillOpacity:"0.6",style:{margin:"0 5px"}}),sx:{alignItems:"center",mt:n?"10px":""},"aria-label":"breadcrumb",children:n?n.map((e=>(0,h.jsx)("div",{children:e.to?(0,h.jsx)(l.A,{underline:"none",color:"inherit",component:s.k2,to:e.to,children:e.title}):(0,h.jsx)(r.A,{color:"textPrimary",children:e.title})},e.title))):""})]}),(0,h.jsx)(a.Ay,{item:!0,xs:12,sm:6,lg:4,display:"flex",alignItems:"flex-end",children:(0,h.jsx)(o.A,{sx:{display:{xs:"none",md:"block",lg:"flex"},alignItems:"center",justifyContent:"flex-end",width:"100%"},children:p?(0,h.jsx)(o.A,{sx:{top:"0px",position:"absolute"},children:p}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(o.A,{sx:{top:"0px",position:"absolute"},children:(0,h.jsx)("img",{src:d,alt:d})})})})})]})}},18372:(e,t,n)=>{n.r(t),n.d(t,{default:()=>we});var a=n(9950),r=n(16491),i=n(41541),l=n(3580),o=n(97497),s=n(91729),d=n(69780),c=n(9213),h=n(21671),u=n(7251),p=n(83239),m=n(82053),x=n(29925),g=n(2046),A=n(10226),j=n(83274),b=n(25333),y=n(2235),v=n(1320),f=n(15769),w=n(34075),S=n(36780),C=n(80691),k=n(82569),P=n(11769),$=n(92206),M=n(59254),I=n(98587),_=n(58168),z=n(60533),L=n(88465),R=n(99269),T=n(61676),W=n(46282),E=n(18463),B=n(1763),D=n(423);function F(e){return(0,D.Ay)("MuiSwitch",e)}const O=(0,B.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var N=n(44414);const V=["className","color","edge","size","sx"],X=(0,M.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${(0,T.A)(n.edge)}`],t[`size${(0,T.A)(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${O.thumb}`]:{width:16,height:16},[`& .${O.switchBase}`]:{padding:4,[`&.${O.checked}`]:{transform:"translateX(16px)"}}}}]}),G=(0,M.Ay)(W.A,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${O.input}`]:t.input},"default"!==n.color&&t[`color${(0,T.A)(n.color)}`]]}})((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${"light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${O.checked}`]:{transform:"translateX(20px)"},[`&.${O.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${O.checked} + .${O.track}`]:{opacity:.5},[`&.${O.disabled} + .${O.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:""+("light"===t.palette.mode?.12:.2)},[`& .${O.input}`]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,R.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${O.checked}`]:{color:(t.vars||t).palette[n].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,R.X4)(t.palette[n].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${O.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${n}DisabledColor`]:`${"light"===t.palette.mode?(0,R.a)(t.palette[n].main,.62):(0,R.e$)(t.palette[n].main,.55)}`}},[`&.${O.checked} + .${O.track}`]:{backgroundColor:(t.vars||t).palette[n].main}}}}))]}})),q=(0,M.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${"light"===t.palette.mode?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:""+("light"===t.palette.mode?.38:.3)}})),U=(0,M.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),H=a.forwardRef((function(e,t){const n=(0,E.b)({props:e,name:"MuiSwitch"}),{className:a,color:r="primary",edge:i=!1,size:l="medium",sx:o}=n,s=(0,I.A)(n,V),d=(0,_.A)({},n,{color:r,edge:i,size:l}),c=(e=>{const{classes:t,edge:n,size:a,color:r,checked:i,disabled:l}=e,o={root:["root",n&&`edge${(0,T.A)(n)}`,`size${(0,T.A)(a)}`],switchBase:["switchBase",`color${(0,T.A)(r)}`,i&&"checked",l&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},s=(0,L.A)(o,F,t);return(0,_.A)({},t,s)})(d),h=(0,N.jsx)(U,{className:c.thumb,ownerState:d});return(0,N.jsxs)(X,{className:(0,z.A)(c.root,a),sx:o,ownerState:d,children:[(0,N.jsx)(G,(0,_.A)({type:"checkbox",icon:h,checkedIcon:h,ref:t,ownerState:d},s,{classes:(0,_.A)({},c,{root:c.switchBase})})),(0,N.jsx)(q,{className:c.track,ownerState:d})]})}));(0,M.Ay)((e=>(0,N.jsx)(H,{...e})))((e=>{let{theme:t}=e;return{"&.MuiSwitch-root":{width:"68px",height:"49px"},"&  .MuiButtonBase-root":{top:"6px",left:"6px"},"&  .MuiButtonBase-root.Mui-checked .MuiSwitch-thumb":{backgroundColor:"primary.main"},"& .MuiSwitch-thumb":{width:"18px",height:"18px",borderRadius:"6px"},"& .MuiSwitch-track":{backgroundColor:t.palette.grey[200],opacity:1,borderRadius:"5px"},"& .MuiSwitch-switchBase":{"&.Mui-checked":{"& + .MuiSwitch-track":{backgroundColor:"primary",opacity:.18}}}}}));var J=n(85111),K=n(63464),Q=n(40033),Y=n(28170),Z=n(6493),ee=n(25979),te=n(11250),ne=n(3788),ae=n(23266),re=n(79739),ie=n(23366),le=n(25803),oe=n(93493);const se=["Achat","Avance"],de=()=>{const[e,t]=a.useState(!1),n=(0,k.d4)(oe.Po),i=(0,k.d4)((e=>e.clientReducer.loading)),[l,o]=((0,k.d4)((e=>e.clientReducer.error)),a.useState({date:"",codeSL:"",clients:"",nomProduit:"",montant:"",type:""})),s=(0,k.wA)();(0,a.useEffect)((()=>{s((0,oe.$3)())}),[e]);const d=()=>{t(!1)},c=e=>{const{name:t,value:n}=e.target;o({...l,[t]:n})};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(A.A,{onClick:()=>{t(!0)},variant:"contained",color:"primary",startIcon:(0,N.jsx)(J.uID,{}),sx:{width:{xs:"auto",md:"175px"},"& .MuiButton-startIcon":{marginRight:{xs:0,sm:0,md:"8px"}}},children:(0,N.jsx)(r.A,{component:"span",sx:{display:{xs:"none",md:"inline"},whiteSpace:"nowrap"},children:"Cr\xe9er un TPE"})}),(0,N.jsxs)(K.A,{open:e,onClose:d,children:[(0,N.jsx)(Q.A,{children:"Cr\xe9er un TPE"}),(0,N.jsxs)(Y.A,{children:[(0,N.jsx)(Z.A,{children:"Veuillez entrer les d\xe9tails pour cr\xe9er un TPE."}),(0,N.jsxs)(r.A,{mt:2,children:[(0,N.jsx)(ie.A,{autoFocus:!0,margin:"dense",id:"date",label:"Date",type:"date",fullWidth:!0,name:"date",value:l.date,onChange:c,InputLabelProps:{shrink:!0}}),(0,N.jsx)(ie.A,{margin:"dense",id:"codeSL",label:"Code de SL",fullWidth:!0,name:"codeSL",value:l.codeSL,onChange:c}),(0,N.jsx)(ee.A,{fullWidth:!0,margin:"dense",children:(0,N.jsx)(te.A,{freeSolo:!0,fullWidth:!0,loading:i,id:"clients-autocomplete",disableClearable:!0,options:n.map((e=>e.name+" N("+e.id+")")),onChange:(e,t)=>o({...l,clients:t}),renderInput:e=>(0,N.jsx)(ie.A,{...e,placeholder:"S\xe9lectionner un client","aria-label":"S\xe9lectionner un client",inputprops:{...e.inputprops,type:"search"}})})}),(0,N.jsx)(ie.A,{margin:"dense",id:"nomProduit",label:"Nom de Produit",fullWidth:!0,name:"nomProduit",value:l.nomProduit,onChange:c}),(0,N.jsx)(ie.A,{margin:"dense",id:"montant",label:"Montant",type:"number",fullWidth:!0,name:"montant",value:l.montant,onChange:c}),(0,N.jsxs)(ee.A,{fullWidth:!0,margin:"dense",children:[(0,N.jsx)(ne.A,{children:"Type"}),(0,N.jsx)(le.A,{name:"type",label:"Type",value:l.type,onChange:c,children:se.map((e=>(0,N.jsx)(ae.A,{value:e.toLowerCase(),children:e},e)))})]})]})]}),(0,N.jsxs)(re.A,{children:[(0,N.jsx)(A.A,{color:"error",onClick:d,children:"Annuler"}),(0,N.jsx)(A.A,{onClick:async()=>{if(l.date&&l.codeSL&&l.clients&&l.nomProduit&&l.montant&&l.type)try{await s((0,P.Oc)(l)).unwrap(),d()}catch(e){console.error("Failed to submit form data:",e),alert("Une erreur est survenue. Veuillez r\xe9essayer.")}else alert("Veuillez remplir tous les champs.")},children:"Soumettre"})]})]})]})};var ce=n(59051),he=n.n(ce);const ue=["Achat","Avance"],pe=e=>{let{open:t,handleClose:n,tpe:i}=e;const l=(0,k.d4)(oe.Po),o=(0,k.d4)((e=>e.clientReducer.loading)),[s,d]=a.useState(i),c=(0,k.wA)();(0,a.useEffect)((()=>{c((0,oe.$3)())}),[t]);const h=e=>{const{name:t,value:n}=e.target;d({...s,[t]:n})};return(0,N.jsxs)(K.A,{open:t,onClose:n,children:[(0,N.jsx)(Q.A,{children:"Modifier une TPE"}),(0,N.jsxs)(Y.A,{children:[(0,N.jsx)(Z.A,{children:"Veuillez entrer les d\xe9tails pour modifier une TPE."}),(0,N.jsxs)(r.A,{mt:2,children:[(0,N.jsx)(ie.A,{autoFocus:!0,margin:"dense",id:"date",label:"Date",type:"date",fullWidth:!0,name:"date",value:he()(s.date).utc().format("yyyy-MM-DD"),onChange:h,InputLabelProps:{shrink:!0}}),(0,N.jsx)(ie.A,{margin:"dense",id:"codeSL",label:"Code de SL",fullWidth:!0,name:"codeSL",value:s.codeSL,onChange:h}),(0,N.jsx)(ee.A,{fullWidth:!0,margin:"dense",children:(0,N.jsx)(te.A,{freeSolo:!0,fullWidth:!0,loading:o,id:"clients-autocomplete",disableClearable:!0,options:l.map((e=>`${e.name} N(${e.id})`)),value:s.clients,onChange:(e,t)=>d({...s,clients:t}),renderInput:e=>(0,N.jsx)(ie.A,{...e,placeholder:"S\xe9lectionner un client","aria-label":"S\xe9lectionner un client",inputProps:{...e.inputProps,type:"search"}})})}),(0,N.jsx)(ie.A,{margin:"dense",id:"nomProduit",label:"Nom de Produit",fullWidth:!0,name:"nomProduit",value:s.nomProduit,onChange:h}),(0,N.jsx)(ie.A,{margin:"dense",id:"montant",label:"Montant",type:"number",fullWidth:!0,name:"montant",value:s.montant,onChange:h}),(0,N.jsxs)(ee.A,{fullWidth:!0,margin:"dense",children:[(0,N.jsx)(ne.A,{children:"Type"}),(0,N.jsx)(le.A,{name:"type",label:"Type",value:s.type,onChange:h,children:ue.map((e=>(0,N.jsx)(ae.A,{value:e.toLowerCase(),children:e},e)))})]})]})]}),(0,N.jsxs)(re.A,{children:[(0,N.jsx)(A.A,{color:"error",onClick:n,children:"Annuler"}),(0,N.jsx)(A.A,{onClick:async()=>{try{await c((0,P.FL)({id:i.id,updatedTpe:s})).unwrap(),n()}catch(e){console.error("Failed to submit form data:",e),alert("Une erreur est survenue. Veuillez r\xe9essayer.")}},children:"Soumettre"})]})]})},me=["Achat","Avance"],xe=e=>{let{open:t,handleClose:n,applyFilters:i}=e;const l=(0,k.d4)(oe.Po),o=(0,k.d4)((e=>e.clientReducer.loading)),s=(0,k.wA)(),[d,c]=(0,a.useState)({date_from:"",date_to:"",code_sl:"",clients:"",nom_produit:"",montant_min:"",montant_max:"",type:""});(0,a.useEffect)((()=>{s((0,oe.$3)())}),[t]);const h=e=>{const{name:t,value:n}=e.target;c({...d,[t]:n})};return(0,N.jsxs)(K.A,{open:t,onClose:n,children:[(0,N.jsx)(Q.A,{children:"Filtrer les TPE"}),(0,N.jsx)(Y.A,{children:(0,N.jsxs)(r.A,{mt:2,children:[(0,N.jsx)(ie.A,{margin:"dense",id:"date_from",label:"Date From",type:"date",fullWidth:!0,name:"date_from",value:d.date_from,onChange:h,InputLabelProps:{shrink:!0}}),(0,N.jsx)(ie.A,{margin:"dense",id:"date_to",label:"Date To",type:"date",fullWidth:!0,name:"date_to",value:d.date_to,onChange:h,InputLabelProps:{shrink:!0}}),(0,N.jsx)(ie.A,{margin:"dense",id:"code_sl",label:"Code SL",fullWidth:!0,name:"code_sl",value:d.code_sl,onChange:h}),(0,N.jsx)(ee.A,{fullWidth:!0,margin:"dense",children:(0,N.jsx)(te.A,{freeSolo:!0,fullWidth:!0,loading:o,id:"clients-autocomplete",disableClearable:!0,options:l.map((e=>e.name+" N("+e.id+")")),onChange:(e,t)=>c({...d,clients:t}),renderInput:e=>(0,N.jsx)(ie.A,{...e,placeholder:"S\xe9lectionner un client","aria-label":"S\xe9lectionner un client",inputProps:{...e.inputProps,type:"search"}})})}),(0,N.jsx)(ie.A,{margin:"dense",id:"nom_produit",label:"Nom de Produit",fullWidth:!0,name:"nom_produit",value:d.nom_produit,onChange:h}),(0,N.jsx)(ie.A,{margin:"dense",id:"montant_min",label:"Montant Min",type:"number",fullWidth:!0,name:"montant_min",value:d.montant_min,onChange:h}),(0,N.jsx)(ie.A,{margin:"dense",id:"montant_max",label:"Montant Max",type:"number",fullWidth:!0,name:"montant_max",value:d.montant_max,onChange:h}),(0,N.jsxs)(ee.A,{fullWidth:!0,margin:"dense",children:[(0,N.jsx)(ne.A,{children:"Type"}),(0,N.jsx)(le.A,{name:"type",label:"Type",value:d.type,onChange:h,children:me.map((e=>(0,N.jsx)(ae.A,{value:e.toLowerCase(),children:e},e)))})]})]})}),(0,N.jsxs)(re.A,{children:[(0,N.jsx)(A.A,{color:"error",onClick:()=>{c({date_from:"",date_to:"",code_sl:"",clients:"",nom_produit:"",montant_min:"",montant_max:"",type:""}),i({}),n()},children:"Effacer"}),(0,N.jsx)(A.A,{onClick:()=>{i(d),n()},children:"Filtrer"})]})]})};n(14261);function ge(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Ae(e,t){return"desc"===e?(e,n)=>ge(e,n,t):(e,n)=>-ge(e,n,t)}function je(e,t){const n=e.map(((e,t)=>[e,t]));return n.sort(((e,n)=>{const a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((e=>e[0]))}const be=[{id:"date",numeric:!1,disablePadding:!1,label:"Date"},{id:"codeSL",numeric:!1,disablePadding:!1,label:"Code de SL"},{id:"clients",numeric:!1,disablePadding:!1,label:"Clients"},{id:"nomProduit",numeric:!1,disablePadding:!1,label:"Nom de Produit"},{id:"montant",numeric:!1,disablePadding:!1,label:"Montant"},{id:"type",numeric:!1,disablePadding:!1,label:"Type"},{id:"action",numeric:!1,disablePadding:!1,label:"Action"}];function ye(e){const{onSelectAllClick:t,order:n,orderBy:a,numSelected:i,rowCount:l,onRequestSort:o}=e;return(0,N.jsx)(d.A,{children:(0,N.jsxs)(c.A,{children:[(0,N.jsx)(h.A,{padding:"checkbox",children:(0,N.jsx)($.A,{color:"primary",checked:l>0&&i===l,onChange:t,inputProps:{"aria-label":"select all items"}})}),be.map((e=>{return(0,N.jsx)(h.A,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:a===e.id&&n,children:(0,N.jsxs)(u.A,{active:a===e.id,direction:a===e.id?n:"asc",onClick:(t=e.id,e=>{o(e,t)}),children:[e.label,a===e.id?(0,N.jsx)(r.A,{component:"span",sx:C.A,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var t}))]})})}const ve=e=>{let{numSelected:t,handleSearch:n,search:i,applyFilters:l,handleDelete:s,handleExport:d}=e;const[c,h]=(0,a.useState)(!1);return(0,N.jsxs)(p.A,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...t>0&&{bgcolor:e=>(0,o.X4)(e.palette.primary.main,e.palette.action.activatedOpacity)}},children:[t>0?(0,N.jsxs)(m.A,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle2",component:"div",children:[t," selected"]}):(0,N.jsx)(r.A,{sx:{flex:"1 1 100%"},children:(0,N.jsx)(x.A,{InputProps:{startAdornment:(0,N.jsx)(g.A,{position:"start",children:(0,N.jsx)(J.C0l,{size:"1.1rem"})})},placeholder:"Rechercher une TPE",size:"small",onChange:n,value:i})}),(0,N.jsxs)(r.A,{display:"flex",alignItems:"center",gap:"16px",children:[(0,N.jsx)(A.A,{onClick:d,variant:"contained",color:"success",startIcon:(0,N.jsx)(J.Grb,{}),sx:{width:{xs:"auto",md:"175px"},"& .MuiButton-startIcon":{marginRight:{xs:0,sm:0,md:"8px"}}},children:(0,N.jsx)(r.A,{component:"span",sx:{display:{xs:"none",md:"inline"},whiteSpace:"nowrap"},children:"Export Tpes"})}),(0,N.jsx)(de,{}),(0,N.jsx)(xe,{open:c,handleClose:()=>{h(!1)},applyFilters:l}),t>0?(0,N.jsx)(j.A,{title:"Delete",children:(0,N.jsx)(b.A,{color:"error",onClick:s,children:(0,N.jsx)(J.Eau,{width:"18"})})}):(0,N.jsx)(j.A,{title:"Filter list",children:(0,N.jsx)(b.A,{color:"primary",onClick:()=>{h(!0)},children:(0,N.jsx)(J.uJ7,{size:"1.2rem"})})})]})]})},fe=()=>{const[e,t]=(0,a.useState)("desc"),[n,i]=(0,a.useState)("date"),[l,o]=(0,a.useState)(!0),[d,u]=(0,a.useState)([]),[p,x]=(0,a.useState)(0),[g,A]=(0,a.useState)(!1),[C,M]=(0,a.useState)(5),[I,_]=(0,a.useState)(""),[z,L]=(0,a.useState)(!1),[R,T]=(0,a.useState)(null),[W,E]=(0,a.useState)(null),B=(0,k.wA)(),D=(0,k.d4)((e=>e.tpeReducer.tpes)),F=(0,k.d4)((e=>e.tpeReducer.total)),[O,V]=(0,a.useState)({});(0,a.useEffect)((()=>{o(!0),B((0,P.Fr)({page:p,filters:{search:I,rowsPerPage:C,...O},order:e,orderBy:n})).finally((()=>o(!1)))}),[B,I,C,p,O,e,n]);const[X,G]=(0,a.useState)(D);(0,a.useEffect)((()=>{G(D)}),[D]);return(0,N.jsxs)(r.A,{children:[(0,N.jsxs)(y.A,{children:[(0,N.jsx)(ve,{numSelected:d.length,handleSearch:e=>{_(e.target.value)},search:I,handleDelete:()=>{d.forEach((e=>B((0,P.vf)(e)))),u([])},applyFilters:e=>{V(e)},handleExport:()=>{B((0,P.LG)(O))}}),(0,N.jsx)(v.A,{children:(0,N.jsxs)(f.A,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:g?"small":"medium",children:[d.length>0&&(0,N.jsxs)("caption",{children:["The total selected rows: ",(0,N.jsxs)("b",{children:[W," DH"]})]}),(0,N.jsx)(ye,{numSelected:d.length,order:e,orderBy:n,onRequestSort:(a,r)=>{t(n===r&&"asc"===e?"desc":"asc"),i(r)},onSelectAllClick:e=>{if(e.target.checked){const e=X.map((e=>e.id)),t=D.map((e=>parseFloat(e.montant))).reduce(((e,t)=>e+t));return E(t),void u(e)}E(null),u([])},rowCount:X.length}),(0,N.jsxs)(w.A,{children:[je(X,Ae(e,n)).map((e=>{const t=(n=e.id,-1!==d.indexOf(n));var n;return(0,N.jsxs)(c.A,{hover:!0,role:"checkbox","aria-checked":t,tabIndex:-1,selected:t,children:[(0,N.jsx)(h.A,{padding:"checkbox",children:(0,N.jsx)($.A,{color:"primary",checked:t,onChange:t=>((e,t)=>{const n=d.indexOf(t);let a=[];if(-1===n?a=a.concat(d,t):0===n?a=a.concat(d.slice(1)):n===d.length-1?a=a.concat(d.slice(0,-1)):n>0&&(a=a.concat(d.slice(0,n),d.slice(n+1))),a.length>0){const e=D.filter((e=>a.includes(e.id))).map((e=>parseFloat(e.montant))).reduce(((e,t)=>e+t));E(e)}u(a)})(0,e.id)})}),(0,N.jsx)(h.A,{children:(0,s.A)(new Date(e.date),"dd/MM/yyyy")}),(0,N.jsx)(h.A,{children:e.codeSL}),(0,N.jsx)(h.A,{children:e.clients}),(0,N.jsx)(h.A,{children:e.nomProduit}),(0,N.jsx)(h.A,{children:e.montant}),(0,N.jsx)(h.A,{children:e.type}),(0,N.jsx)(h.A,{children:(0,N.jsxs)(r.A,{display:"flex",alignItems:"center",gap:"8px",children:[(0,N.jsx)(j.A,{title:"Edit",children:(0,N.jsx)(b.A,{color:"primary",onClick:()=>(T(e),void L(!0)),children:(0,N.jsx)(J.GI1,{width:"18"})})}),(0,N.jsx)(j.A,{title:"Delete",children:(0,N.jsx)(b.A,{color:"error",onClick:()=>B((0,P.vf)(e.id)),children:(0,N.jsx)(J.Eau,{width:"18"})})})]})})]},e.id)})),X.length<=0&&(0,N.jsx)(c.A,{style:{height:265},children:(0,N.jsx)(h.A,{colSpan:be.length,align:"center",children:(0,N.jsx)(m.A,{variant:"body2",children:"Aucune donn\xe9e disponible"})})})]})]})}),(0,N.jsx)(S.A,{rowsPerPageOptions:[5,10,25],component:"div",count:F,rowsPerPage:C,page:p,onPageChange:(e,t)=>{x(t)},onRowsPerPageChange:e=>{M(parseInt(e.target.value,10)),x(0)}})]}),R&&(0,N.jsx)(pe,{open:z,handleClose:()=>{T(null),L(!1)},tpe:R})]})},we=()=>(0,N.jsxs)(l.A,{title:"Search Table",description:"this is Search Table page",children:[(0,N.jsx)(i.A,{title:"Liste des tpe"}),(0,N.jsx)(r.A,{children:(0,N.jsx)(fe,{})})]})},80691:(e,t,n)=>{n.d(t,{A:()=>a});const a={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"}}}]);