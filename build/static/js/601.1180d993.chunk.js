"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[601],{3580:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);var l=n(72772),r=n(44414);const i=e=>{let{title:t,description:n,children:i}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.m,{children:[(0,r.jsx)("title",{children:t}),(0,r.jsx)("meta",{name:"description",content:n})]}),i]})}},92206:(e,t,n)=>{n.d(t,{A:()=>o});n(9950);var l=n(59254),r=n(93038),i=n(44414);const a=(0,l.Ay)("span")((e=>{let{theme:t}=e;return{borderRadius:3,width:19,height:19,marginLeft:"4px",boxShadow:"dark"===t.palette.mode?`0 0 0 1px ${t.palette.grey[200]}`:`inset 0 0 0 1px ${t.palette.grey[300]}`,backgroundColor:"transparent",".Mui-focusVisible &":{outline:"dark"===t.palette.mode?`0px auto ${t.palette.grey[200]}`:`0px auto  ${t.palette.grey[300]}`,outlineOffset:2},"input:hover ~ &":{backgroundColor:(t.palette.mode,t.palette.primary)},"input:disabled ~ &":{boxShadow:"none",background:t.palette.grey[100]}}})),s=(0,l.Ay)(a)({boxShadow:"none",width:19,height:19,"&:before":{display:"block",width:19,height:19,backgroundImage:"url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12 5c-.28 0-.53.11-.71.29L7 9.59l-2.29-2.3a1.003 1.003 0 00-1.42 1.42l3 3c.18.18.43.29.71.29s.53-.11.71-.29l5-5A1.003 1.003 0 0012 5z' fill='%23fff'/%3E%3C/svg%3E\")",content:'""'}});const o=function(e){return(0,i.jsx)(r.A,{disableRipple:!0,color:e.color?e.color:"default",checkedIcon:(0,i.jsx)(s,{sx:{backgroundColor:e.color?`${e.color}.main`:"primary.main"}}),icon:(0,i.jsx)(a,{}),inputProps:{"aria-label":"Checkbox demo"},...e})}},25803:(e,t,n)=>{n.d(t,{A:()=>a});n(9950);var l=n(59254),r=n(70006),i=n(44414);const a=(0,l.Ay)((e=>(0,i.jsx)(r.A,{...e})))()},23366:(e,t,n)=>{n.d(t,{A:()=>a});n(9950);var l=n(59254),r=n(29925),i=n(44414);const a=(0,l.Ay)((e=>(0,i.jsx)(r.A,{...e})))((e=>{let{theme:t}=e;return{"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:t.palette.text.secondary,opacity:"0.8"},"& .MuiOutlinedInput-input.Mui-disabled::-webkit-input-placeholder":{color:t.palette.text.secondary,opacity:"1"},"& .Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.grey[200]}}}))},41541:(e,t,n)=>{n.d(t,{A:()=>u});n(9950);var l=n(60899),r=n(82053),i=n(52432),a=n(36080),s=n(16491),o=n(42074);const d=n.p+"static/media/ChatBc.62cf6334552b0c3ed7eb.png";var c=n(85111),h=n(44414);const u=e=>{let{subtitle:t,items:n,title:u,children:x}=e;return(0,h.jsxs)(l.Ay,{container:!0,sx:{backgroundColor:"primary.light",borderRadius:e=>e.shape.borderRadius/4,p:"30px 25px 20px",marginBottom:"30px",position:"relative",overflow:"hidden"},children:[(0,h.jsxs)(l.Ay,{item:!0,xs:12,sm:6,lg:8,mb:1,children:[(0,h.jsx)(r.A,{variant:"h4",children:u}),(0,h.jsx)(r.A,{color:"textSecondary",variant:"h6",fontWeight:400,mt:.8,mb:0,children:t}),(0,h.jsx)(i.A,{separator:(0,h.jsx)(c.ABt,{size:"5",fill:"textSecondary",fillOpacity:"0.6",style:{margin:"0 5px"}}),sx:{alignItems:"center",mt:n?"10px":""},"aria-label":"breadcrumb",children:n?n.map((e=>(0,h.jsx)("div",{children:e.to?(0,h.jsx)(a.A,{underline:"none",color:"inherit",component:o.k2,to:e.to,children:e.title}):(0,h.jsx)(r.A,{color:"textPrimary",children:e.title})},e.title))):""})]}),(0,h.jsx)(l.Ay,{item:!0,xs:12,sm:6,lg:4,display:"flex",alignItems:"flex-end",children:(0,h.jsx)(s.A,{sx:{display:{xs:"none",md:"block",lg:"flex"},alignItems:"center",justifyContent:"flex-end",width:"100%"},children:x?(0,h.jsx)(s.A,{sx:{top:"0px",position:"absolute"},children:x}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(s.A,{sx:{top:"0px",position:"absolute"},children:(0,h.jsx)("img",{src:d,alt:d})})})})})]})}},28506:(e,t,n)=>{n.r(t),n.d(t,{default:()=>K});var l=n(9950),r=n(16491),i=n(41541),a=n(3580),s=n(97497),o=n(91729),d=n(69780),c=n(9213),h=n(21671),u=n(7251),x=n(83239),m=n(82053),p=n(29925),A=n(2046),g=n(10226),j=n(83274),b=n(25333),y=n(2235),f=n(1320),v=n(15769),C=n(34075),w=n(36780),k=n(80691),S=n(82569),_=n(92206),P=n(85111),I=n(63464),M=n(40033),R=n(28170),D=n(6493),z=n(25979),B=n(3788),F=n(23266),W=n(79739),E=n(25803),T=n(23366),O=n(20701),V=n(44414);const L=()=>{const[e,t]=l.useState(!1),[n,i]=l.useState({date:"",article:"",montant:"",type_reglement:""}),a=(0,S.wA)(),s=()=>{t(!1)},o=e=>{const{name:t,value:l}=e.target;i({...n,[t]:l})};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(g.A,{onClick:()=>{t(!0)},variant:"contained",color:"primary",startIcon:(0,V.jsx)(P.uID,{}),sx:{width:{xs:"auto",md:"175px"},"& .MuiButton-startIcon":{marginRight:{xs:0,sm:0,md:"8px"}}},children:(0,V.jsx)(r.A,{component:"span",sx:{display:{xs:"none",md:"inline"},whiteSpace:"nowrap"},children:"Cr\xe9er un benif"})}),(0,V.jsxs)(I.A,{open:e,onClose:s,children:[(0,V.jsx)(M.A,{children:"Cr\xe9er un B\xe9n\xe9fice"}),(0,V.jsxs)(R.A,{children:[(0,V.jsx)(D.A,{children:"Veuillez entrer les d\xe9tails pour cr\xe9er un b\xe9n\xe9fice."}),(0,V.jsxs)(r.A,{mt:2,children:[(0,V.jsx)(T.A,{autoFocus:!0,margin:"dense",id:"date",label:"Date",type:"date",fullWidth:!0,name:"date",value:n.date,onChange:o,InputLabelProps:{shrink:!0}}),(0,V.jsx)(T.A,{margin:"dense",id:"article",label:"Article",type:"text",fullWidth:!0,name:"article",value:n.article,onChange:o}),(0,V.jsx)(T.A,{margin:"dense",id:"montant",label:"Montant",type:"number",fullWidth:!0,name:"montant",value:n.montant,onChange:o}),(0,V.jsxs)(z.A,{fullWidth:!0,margin:"dense",children:[(0,V.jsx)(B.A,{children:"Type de R\xe8glement"}),(0,V.jsxs)(E.A,{name:"type_reglement",label:"Type de R\xe8glement",value:n.type_reglement,onChange:o,children:[(0,V.jsx)(F.A,{value:"carte",children:"Carte"}),(0,V.jsx)(F.A,{value:"espece",children:"Esp\xe8ce"})]})]})]})]}),(0,V.jsxs)(W.A,{children:[(0,V.jsx)(g.A,{color:"error",onClick:s,children:"Annuler"}),(0,V.jsx)(g.A,{onClick:async()=>{if(n.date&&n.article&&n.montant&&n.type_reglement)try{await a((0,O.tc)(n)).unwrap(),s()}catch(e){console.error("Failed to submit form data:",e),alert("Une erreur est survenue. Veuillez r\xe9essayer.")}else alert("Veuillez remplir tous les champs.")},children:"Soumettre"})]})]})]})};var $=n(59051),q=n.n($);const G=e=>{let{open:t,onClose:n,benifData:i}=e;const[a,s]=l.useState({date:"",article:"",montant:"",type_reglement:""}),o=(0,S.wA)();(0,l.useEffect)((()=>{i&&s({date:i.date||"",article:i.article||"",montant:i.montant||"",type_reglement:i.type_reglement||""})}),[i]);const d=e=>{const{name:t,value:n}=e.target;s({...a,[t]:n})};return(0,V.jsxs)(I.A,{open:t,onClose:n,children:[(0,V.jsx)(M.A,{children:"Modifier un B\xe9n\xe9fice"}),(0,V.jsxs)(R.A,{children:[(0,V.jsx)(D.A,{children:"Veuillez entrer les d\xe9tails pour modifier le b\xe9n\xe9fice."}),(0,V.jsxs)(r.A,{mt:2,children:[(0,V.jsx)(T.A,{autoFocus:!0,margin:"dense",id:"date",label:"Date",type:"date",fullWidth:!0,name:"date",value:q()(a.date).utc().format("yyyy-MM-DD"),onChange:d,InputLabelProps:{shrink:!0}}),(0,V.jsx)(T.A,{margin:"dense",id:"article",label:"Article",type:"text",fullWidth:!0,name:"article",value:a.article,onChange:d}),(0,V.jsx)(T.A,{margin:"dense",id:"montant",label:"Montant",type:"number",fullWidth:!0,name:"montant",value:a.montant,onChange:d}),(0,V.jsxs)(z.A,{fullWidth:!0,margin:"dense",children:[(0,V.jsx)(B.A,{children:"Type de R\xe8glement"}),(0,V.jsxs)(E.A,{name:"type_reglement",label:"Type de R\xe8glement",value:a.type_reglement,onChange:d,children:[(0,V.jsx)(F.A,{value:"carte",children:"Carte"}),(0,V.jsx)(F.A,{value:"espece",children:"Esp\xe8ce"})]})]})]})]}),(0,V.jsxs)(W.A,{children:[(0,V.jsx)(g.A,{color:"error",onClick:n,children:"Annuler"}),(0,V.jsx)(g.A,{onClick:async()=>{if(a.date&&a.article&&a.montant&&a.type_reglement)try{await o((0,O.iz)({id:i.id,benifData:a})).unwrap(),n()}catch(e){console.error("Failed to submit form data:",e),alert("Une erreur est survenue. Veuillez r\xe9essayer.")}else alert("Veuillez remplir tous les champs.")},children:"Soumettre"})]})]})},U=e=>{let{open:t,onClose:n,onSubmitFilter:i}=e;const[a,s]=(0,l.useState)({date_from:"",date_to:"",article:"",montant_min:"",montant_max:"",type_reglement:""}),o=e=>{const{name:t,value:n}=e.target;s({...a,[t]:n})};return(0,V.jsxs)(I.A,{open:t,onClose:n,children:[(0,V.jsx)(M.A,{children:"Filtrer les B\xe9n\xe9fices"}),(0,V.jsxs)(R.A,{children:[(0,V.jsx)(D.A,{children:"Veuillez entrer les crit\xe8res pour filtrer les b\xe9n\xe9fices."}),(0,V.jsxs)(r.A,{mt:2,children:[(0,V.jsx)(T.A,{margin:"dense",id:"date_from",label:"Date De",type:"date",fullWidth:!0,name:"date_from",value:a.date_from,onChange:o,InputLabelProps:{shrink:!0}}),(0,V.jsx)(T.A,{margin:"dense",id:"date_to",label:"Date \xc0",type:"date",fullWidth:!0,name:"date_to",value:a.date_to,onChange:o,InputLabelProps:{shrink:!0}}),(0,V.jsx)(T.A,{margin:"dense",id:"article",label:"Article",type:"text",fullWidth:!0,name:"article",value:a.article,onChange:o}),(0,V.jsx)(T.A,{margin:"dense",id:"montant_min",label:"Montant Min",type:"number",fullWidth:!0,name:"montant_min",value:a.montant_min,onChange:o}),(0,V.jsx)(T.A,{margin:"dense",id:"montant_max",label:"Montant Max",type:"number",fullWidth:!0,name:"montant_max",value:a.montant_max,onChange:o}),(0,V.jsxs)(z.A,{fullWidth:!0,margin:"dense",children:[(0,V.jsx)(B.A,{children:"Type de R\xe8glement"}),(0,V.jsxs)(E.A,{name:"type_reglement",label:"Type de R\xe8glement",value:a.type_reglement,onChange:o,children:[(0,V.jsx)(F.A,{value:"",children:"Tous"}),(0,V.jsx)(F.A,{value:"carte",children:"Carte"}),(0,V.jsx)(F.A,{value:"espece",children:"Esp\xe8ce"})]})]})]})]}),(0,V.jsxs)(W.A,{children:[(0,V.jsx)(g.A,{color:"error",onClick:n,children:"Annuler"}),(0,V.jsx)(g.A,{onClick:()=>{i(a),n()},children:"Appliquer"})]})]})};n(93417);const H=[{id:"date",numeric:!1,disablePadding:!1,label:"Date"},{id:"article",numeric:!1,disablePadding:!1,label:"Article"},{id:"montant",numeric:!1,disablePadding:!1,label:"Montant"},{id:"type_reglement",numeric:!1,disablePadding:!1,label:"Type Reglement"},{id:"action",numeric:!1,disablePadding:!1,label:"Action"}],J=e=>{let{onSelectAllClick:t,order:n,orderBy:l,numSelected:i,rowCount:a,onRequestSort:s}=e;return(0,V.jsx)(d.A,{children:(0,V.jsxs)(c.A,{children:[(0,V.jsx)(h.A,{padding:"checkbox",children:(0,V.jsx)(_.A,{color:"primary",checked:a>0&&i===a,onChange:t,inputProps:{"aria-label":"select all benifs"}})}),H.map((e=>{return(0,V.jsx)(h.A,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:l===e.id&&n,children:(0,V.jsxs)(u.A,{active:l===e.id,direction:l===e.id?n:"asc",onClick:(t=e.id,e=>{s(e,t)}),children:[e.label,l===e.id&&(0,V.jsx)(r.A,{component:"span",sx:k.A,children:"desc"===n?"sorted descending":"sorted ascending"})]})},e.id);var t}))]})})},X=e=>{let{numSelected:t,handleSearch:n,search:i,submitBenifFilter:a,handleExport:o}=e;const[d,c]=(0,l.useState)(!1);return(0,V.jsxs)(x.A,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...t>0&&{bgcolor:e=>(0,s.X4)(e.palette.primary.main,e.palette.action.activatedOpacity)}},children:[t>0?(0,V.jsxs)(m.A,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle2",children:[t," selected"]}):(0,V.jsx)(r.A,{sx:{flex:"1 1 100%"},children:(0,V.jsx)(p.A,{InputProps:{startAdornment:(0,V.jsx)(A.A,{position:"start",children:(0,V.jsx)(P.C0l,{size:"1.1rem"})})},placeholder:"Search benif",size:"small",onChange:n,value:i})}),(0,V.jsxs)(r.A,{display:"flex",alignItems:"center",gap:"16px",children:[(0,V.jsx)(g.A,{onClick:o,variant:"contained",color:"success",startIcon:(0,V.jsx)(P.Grb,{}),sx:{width:{xs:"auto",md:"175px"},"& .MuiButton-startIcon":{marginRight:{xs:0,sm:0,md:"8px"}}},children:(0,V.jsx)(r.A,{component:"span",sx:{display:{xs:"none",md:"inline"},whiteSpace:"nowrap"},children:"Export Benifs"})}),(0,V.jsx)(L,{}),(0,V.jsx)(U,{open:d,onClose:()=>{c(!1)},onSubmitFilter:a}),t>0?(0,V.jsx)(j.A,{title:"Delete",children:(0,V.jsx)(b.A,{color:"error",children:(0,V.jsx)(P.Eau,{width:"18"})})}):(0,V.jsx)(j.A,{title:"Filter list",children:(0,V.jsx)(b.A,{color:"primary",onClick:()=>{c(!0)},children:(0,V.jsx)(P.uJ7,{size:"1.2rem"})})})]})]})},Y=()=>{const[e,t]=(0,l.useState)("desc"),[n,i]=(0,l.useState)("date"),[a,s]=(0,l.useState)(0),[d,u]=(0,l.useState)(5),[x,p]=(0,l.useState)(""),[A,g]=(0,l.useState)(!0),[k,I]=(0,l.useState)(!1),[M,R]=(0,l.useState)(null),[D,z]=(0,l.useState)(null),[B,F]=(0,l.useState)([]),[W,E]=(0,l.useState)({}),T=(0,S.wA)(),L=(0,S.d4)((e=>e.benifReducer.benifs)),$=(0,S.d4)((e=>e.benifReducer.total));(0,l.useEffect)((()=>{g(!0),T((0,O.wF)({page:a,filters:{rowsPerPage:d,...W},search:x,order:e,orderBy:n})).finally((()=>g(!1)))}),[T,a,d,x,W,e,n]);return(0,V.jsxs)(r.A,{children:[(0,V.jsx)(X,{numSelected:B.length,search:x,handleSearch:e=>{p(e.target.value),s(0)},submitBenifFilter:e=>{E(e)},handleExport:()=>{T((0,O.Y9)(W))}}),(0,V.jsxs)(y.A,{variant:"outlined",sx:{mx:2,mt:1},children:[(0,V.jsx)(f.A,{children:(0,V.jsxs)(v.A,{children:[B.length>0&&(0,V.jsxs)("caption",{children:["The total selected rows: ",(0,V.jsxs)("b",{children:[D," DH"]})]}),(0,V.jsx)(J,{order:e,orderBy:n,onRequestSort:(l,r)=>{t(n===r&&"asc"===e?"desc":"asc"),i(r)},onSelectAllClick:e=>{if(e.target.checked){const e=L.map((e=>e.id)),t=L.map((e=>parseFloat(e.montant))).reduce(((e,t)=>e+t));z(t),F(e)}else z(null),F([])},numSelected:B.length,rowCount:L.length}),(0,V.jsxs)(C.A,{children:[L.map((e=>{const t=(n=e.id,-1!==B.indexOf(n));var n;return(0,V.jsxs)(c.A,{hover:!0,onClick:t=>(e=>{const t=B.indexOf(e);let n=[];if(-1===t?n=n.concat(B,e):0===t?n=n.concat(B.slice(1)):t===B.length-1?n=n.concat(B.slice(0,-1)):t>0&&(n=n.concat(B.slice(0,t),B.slice(t+1))),n.length>0){const e=L.filter((e=>n.includes(e.id))).map((e=>parseFloat(e.montant))).reduce(((e,t)=>e+t));z(e)}F(n)})(e.id),role:"checkbox","aria-checked":t,tabIndex:-1,selected:t,children:[(0,V.jsx)(h.A,{padding:"checkbox",children:(0,V.jsx)(_.A,{color:"primary",checked:t,inputProps:{"aria-labelledby":e.id}})}),(0,V.jsx)(h.A,{children:(0,o.A)(new Date(e.date),"yyyy-MM-dd")}),(0,V.jsx)(h.A,{children:e.article}),(0,V.jsx)(h.A,{children:e.montant}),(0,V.jsx)(h.A,{children:e.type_reglement}),(0,V.jsxs)(h.A,{children:[(0,V.jsx)(j.A,{title:"Edit",children:(0,V.jsx)(b.A,{color:"primary",onClick:()=>(e=>{R(e),I(!0)})(e),children:(0,V.jsx)(P.GI1,{width:"18"})})}),(0,V.jsx)(j.A,{title:"Delete",children:(0,V.jsx)(b.A,{color:"error",onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this benif?")&&T((0,O.m2)(t)));var t},children:(0,V.jsx)(P.Eau,{width:"16"})})})]})]},e.id)})),L.length<=0&&(0,V.jsx)(c.A,{style:{height:265},children:(0,V.jsx)(h.A,{colSpan:H.length,align:"center",children:(0,V.jsx)(m.A,{variant:"body2",children:"Aucune donn\xe9e disponible"})})})]})]})}),(0,V.jsx)(w.A,{rowsPerPageOptions:[5,10,25],component:"div",count:$,rowsPerPage:d,page:a,onPageChange:(e,t)=>{s(t)},onRowsPerPageChange:e=>{u(parseInt(e.target.value,10)),s(0)}})]}),M&&(0,V.jsx)(G,{open:k,onClose:()=>{I(!1),R(null)},benifData:M})]})},K=()=>(0,V.jsxs)(a.A,{title:"Search Table",description:"this is Search Table page",children:[(0,V.jsx)(i.A,{title:"Liste des benif"}),(0,V.jsx)(r.A,{children:(0,V.jsx)(Y,{})})]})},80691:(e,t,n)=>{n.d(t,{A:()=>l});const l={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"}}}]);