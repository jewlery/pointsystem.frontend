"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[772],{3580:(e,n,t)=>{t.d(n,{A:()=>a});t(9950);var i=t(72772),l=t(44414);const a=e=>{let{title:n,description:t,children:a}=e;return(0,l.jsxs)("div",{children:[(0,l.jsxs)(i.m,{children:[(0,l.jsx)("title",{children:n}),(0,l.jsx)("meta",{name:"description",content:t})]}),a]})}},92206:(e,n,t)=>{t.d(n,{A:()=>o});t(9950);var i=t(59254),l=t(93038),a=t(44414);const r=(0,i.Ay)("span")((e=>{let{theme:n}=e;return{borderRadius:3,width:19,height:19,marginLeft:"4px",boxShadow:"dark"===n.palette.mode?`0 0 0 1px ${n.palette.grey[200]}`:`inset 0 0 0 1px ${n.palette.grey[300]}`,backgroundColor:"transparent",".Mui-focusVisible &":{outline:"dark"===n.palette.mode?`0px auto ${n.palette.grey[200]}`:`0px auto  ${n.palette.grey[300]}`,outlineOffset:2},"input:hover ~ &":{backgroundColor:(n.palette.mode,n.palette.primary)},"input:disabled ~ &":{boxShadow:"none",background:n.palette.grey[100]}}})),s=(0,i.Ay)(r)({boxShadow:"none",width:19,height:19,"&:before":{display:"block",width:19,height:19,backgroundImage:"url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12 5c-.28 0-.53.11-.71.29L7 9.59l-2.29-2.3a1.003 1.003 0 00-1.42 1.42l3 3c.18.18.43.29.71.29s.53-.11.71-.29l5-5A1.003 1.003 0 0012 5z' fill='%23fff'/%3E%3C/svg%3E\")",content:'""'}});const o=function(e){return(0,a.jsx)(l.A,{disableRipple:!0,color:e.color?e.color:"default",checkedIcon:(0,a.jsx)(s,{sx:{backgroundColor:e.color?`${e.color}.main`:"primary.main"}}),icon:(0,a.jsx)(r,{}),inputProps:{"aria-label":"Checkbox demo"},...e})}},25803:(e,n,t)=>{t.d(n,{A:()=>r});t(9950);var i=t(59254),l=t(70006),a=t(44414);const r=(0,i.Ay)((e=>(0,a.jsx)(l.A,{...e})))()},23366:(e,n,t)=>{t.d(n,{A:()=>r});t(9950);var i=t(59254),l=t(29925),a=t(44414);const r=(0,i.Ay)((e=>(0,a.jsx)(l.A,{...e})))((e=>{let{theme:n}=e;return{"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:n.palette.text.secondary,opacity:"0.8"},"& .MuiOutlinedInput-input.Mui-disabled::-webkit-input-placeholder":{color:n.palette.text.secondary,opacity:"1"},"& .Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:n.palette.grey[200]}}}))},41541:(e,n,t)=>{t.d(n,{A:()=>x});t(9950);var i=t(60899),l=t(82053),a=t(52432),r=t(36080),s=t(16491),o=t(42074);const d=t.p+"static/media/ChatBc.62cf6334552b0c3ed7eb.png";var c=t(85111),h=t(44414);const x=e=>{let{subtitle:n,items:t,title:x,children:p}=e;return(0,h.jsxs)(i.Ay,{container:!0,sx:{backgroundColor:"primary.light",borderRadius:e=>e.shape.borderRadius/4,p:"30px 25px 20px",marginBottom:"30px",position:"relative",overflow:"hidden"},children:[(0,h.jsxs)(i.Ay,{item:!0,xs:12,sm:6,lg:8,mb:1,children:[(0,h.jsx)(l.A,{variant:"h4",children:x}),(0,h.jsx)(l.A,{color:"textSecondary",variant:"h6",fontWeight:400,mt:.8,mb:0,children:n}),(0,h.jsx)(a.A,{separator:(0,h.jsx)(c.ABt,{size:"5",fill:"textSecondary",fillOpacity:"0.6",style:{margin:"0 5px"}}),sx:{alignItems:"center",mt:t?"10px":""},"aria-label":"breadcrumb",children:t?t.map((e=>(0,h.jsx)("div",{children:e.to?(0,h.jsx)(r.A,{underline:"none",color:"inherit",component:o.k2,to:e.to,children:e.title}):(0,h.jsx)(l.A,{color:"textPrimary",children:e.title})},e.title))):""})]}),(0,h.jsx)(i.Ay,{item:!0,xs:12,sm:6,lg:4,display:"flex",alignItems:"flex-end",children:(0,h.jsx)(s.A,{sx:{display:{xs:"none",md:"block",lg:"flex"},alignItems:"center",justifyContent:"flex-end",width:"100%"},children:p?(0,h.jsx)(s.A,{sx:{top:"0px",position:"absolute"},children:p}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(s.A,{sx:{top:"0px",position:"absolute"},children:(0,h.jsx)("img",{src:d,alt:d})})})})})]})}},19895:(e,n,t)=>{t.d(n,{G:()=>i});const i=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;const t=Math.pow(10,n);return(Math.trunc(e*t)/t).toFixed(n)}},74964:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ne});var i=t(9950),l=t(16491),a=t(41541),r=t(3580),s=t(69780),o=t(9213),d=t(21671),c=t(7251),h=t(83239),x=t(82053),p=t(29925),u=t(2046),m=t(10226),g=t(83274),A=t(25333),j=t(2235),f=t(1320),b=t(46639),y=t(15769),v=t(34075),C=t(36780),k=t(82569),S=t(14261),w=t(85111),_=t(63464),P=t(40033),R=t(28170),I=t(6493),W=t(25979),M=t(3788),T=t(23266),D=t(11250),E=t(79739),F=t(23366),z=t(25803),$=t(93493),L=t(19895),B=t(44414);const N=e=>{let{onSubmit:n}=e;const t=(0,k.d4)($.Po),a=(0,k.d4)((e=>e.clientReducer.loading)),r=((0,k.d4)((e=>e.clientReducer.error)),(0,k.wA)()),[s,o]=(0,i.useState)(!1),[d,c]=(0,i.useState)(!1),[h,x]=(0,i.useState)({date:"",designation:"",poids:"",prixAg:"",prixTotal:"",modeReglement:"",client:"",type:"",carteId:null,recu:null,article:null});(0,i.useEffect)((()=>{r((0,$.$3)())}),[s]);const p=()=>o(!1),u=e=>{const{name:n,value:t}=e.target;x((e=>({...e,[n]:t}))),"poids"===n&&x((e=>({...e,prixAg:(0,L.G)(h.prixTotal/t,2)}))),"prixTotal"===n&&x((e=>({...e,prixAg:(0,L.G)(t/h.poids,2)})))},g=e=>{const{name:n,files:t}=e.target;x((e=>({...e,[n]:t[0]})))};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(m.A,{onClick:()=>o(!0),variant:"contained",color:"primary",startIcon:(0,B.jsx)(w.uID,{}),sx:{width:{xs:"auto",md:"175px"},"& .MuiButton-startIcon":{marginRight:{xs:0,sm:0,md:"8px"}}},children:(0,B.jsx)(l.A,{component:"span",sx:{display:{xs:"none",md:"inline"},whiteSpace:"nowrap"},children:"Cr\xe9er une achat"})}),(0,B.jsxs)(_.A,{open:s,onClose:p,children:[(0,B.jsx)(P.A,{children:"Cr\xe9er un Achat"}),(0,B.jsxs)(R.A,{children:[(0,B.jsx)(I.A,{children:"Veuillez entrer les d\xe9tails pour cr\xe9er un achat."}),(0,B.jsxs)(l.A,{mt:2,children:[(0,B.jsx)(F.A,{autoFocus:!0,margin:"dense",id:"date",label:"Date",type:"date",fullWidth:!0,name:"date",value:h.date,onChange:u,InputLabelProps:{shrink:!0}}),(0,B.jsx)(F.A,{margin:"dense",id:"designation",label:"Designation",type:"text",fullWidth:!0,name:"designation",value:h.designation,onChange:u}),(0,B.jsx)(F.A,{margin:"dense",id:"poids",label:"Poids",type:"number",fullWidth:!0,name:"poids",value:h.poids,onChange:u}),(0,B.jsx)(F.A,{margin:"dense",id:"prixTotal",label:"Prix Total",type:"number",fullWidth:!0,name:"prixTotal",value:h.prixTotal,onChange:u}),(0,B.jsx)(F.A,{margin:"dense",id:"prixAg",label:"Prix A/g",type:"number",fullWidth:!0,name:"prixAg",value:h.prixAg,onChange:u}),(0,B.jsxs)(W.A,{fullWidth:!0,margin:"dense",children:[(0,B.jsx)(M.A,{children:"Mode R\xe8glement"}),(0,B.jsxs)(z.A,{name:"modeReglement",label:"Mode R\xe8glement",value:h.modeReglement,onChange:u,children:[(0,B.jsx)(T.A,{value:"carte",children:"Carte"}),(0,B.jsx)(T.A,{value:"espece",children:"Esp\xe8ce"})]})]}),(0,B.jsx)(W.A,{fullWidth:!0,margin:"dense",children:(0,B.jsx)(D.A,{freeSolo:!0,fullWidth:!0,loading:a,id:"clients-autocomplete",disableClearable:!0,options:t.map((e=>e.name+" N("+e.id+")")),onChange:(e,n)=>x({...h,client:n}),renderInput:e=>(0,B.jsx)(F.A,{...e,placeholder:"S\xe9lectionner un client","aria-label":"S\xe9lectionner un client",inputprops:{...e.inputprops,type:"search"}})})}),(0,B.jsxs)(W.A,{fullWidth:!0,margin:"dense",children:[(0,B.jsx)(M.A,{children:"Type"}),(0,B.jsxs)(z.A,{name:"type",label:"Type",value:h.type,onChange:u,children:[(0,B.jsx)(T.A,{value:"neuf",children:"Neuf"}),(0,B.jsx)(T.A,{value:"chdaya",children:"Chdaya"})]})]}),(0,B.jsx)(F.A,{margin:"dense",id:"carte-id-file",label:"Carte ID",type:"file",fullWidth:!0,name:"carteId",onChange:g,InputLabelProps:{shrink:!0}}),(0,B.jsx)(F.A,{margin:"dense",id:"recu-file",label:"Re\xe7u",type:"file",fullWidth:!0,name:"recu",onChange:g,InputLabelProps:{shrink:!0}}),(0,B.jsx)(F.A,{margin:"dense",id:"article-file",label:"Article",type:"file",fullWidth:!0,name:"article",onChange:g,InputLabelProps:{shrink:!0}})]})]}),(0,B.jsxs)(E.A,{children:[(0,B.jsx)(m.A,{color:"error",onClick:p,disabled:d,children:"Annuler"}),(0,B.jsx)(m.A,{onClick:async()=>{c(!0);try{await r((0,S.Ac)(h)),p(),x({date:"",designation:"",poids:"",prixAg:"",prixTotal:"",modeReglement:"",client:"",type:""})}catch(e){console.error("Error submitting form:",e)}finally{c(!1)}},disabled:d,children:d?(0,B.jsx)(b.A,{size:24}):"Soumettre"})]})]})]})};var O=t(59051),G=t.n(O);const q=e=>{let{open:n,onClose:t,achatData:a}=e;const r=(0,k.d4)($.Po),s=(0,k.d4)((e=>e.clientReducer.loading)),o=(0,k.wA)(),[d,c]=(0,i.useState)(!1),[h,x]=(0,i.useState)({date:a.date||"",designation:a.designation||"",poids:a.poids||"",prixAg:a.prixAg||"",prixTotal:a.prixTotal||"",modeReglement:a.modeReglement||"",client:a.client||"",type:a.type||"",carteId:null,recu:null,article:null});(0,i.useEffect)((()=>{n&&o((0,$.$3)())}),[n,o]);const p=()=>{t()},u=e=>{const{name:n,value:t}=e.target;x((e=>({...e,[n]:t}))),"poids"===n&&x((e=>({...e,prixAg:(0,L.G)(h.prixTotal/t,2)}))),"prixTotal"===n&&x((e=>({...e,prixAg:(0,L.G)(t/h.poids,2)})))},g=e=>{const{name:n,files:t}=e.target;x((e=>({...e,[n]:t[0]})))};return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(_.A,{open:n,onClose:p,children:[(0,B.jsx)(P.A,{children:"Modifier un Achat"}),(0,B.jsxs)(R.A,{children:[(0,B.jsx)(I.A,{children:"Veuillez modifier les d\xe9tails de l'achat."}),(0,B.jsxs)(l.A,{mt:2,children:[(0,B.jsx)(F.A,{autoFocus:!0,margin:"dense",id:"date",label:"Date",type:"date",fullWidth:!0,name:"date",value:G()(h.date).utc().format("yyyy-MM-DD"),onChange:u,InputLabelProps:{shrink:!0}}),(0,B.jsx)(F.A,{margin:"dense",id:"designation",label:"Designation",type:"text",fullWidth:!0,name:"designation",value:h.designation,onChange:u}),(0,B.jsx)(F.A,{margin:"dense",id:"poids",label:"Poids",type:"number",fullWidth:!0,name:"poids",value:h.poids,onChange:u}),(0,B.jsx)(F.A,{margin:"dense",id:"prixTotal",label:"Prix Total",type:"number",fullWidth:!0,name:"prixTotal",value:h.prixTotal,onChange:u}),(0,B.jsx)(F.A,{margin:"dense",id:"prixAg",label:"Prix A/g",type:"number",fullWidth:!0,name:"prixAg",value:h.prixAg,onChange:u}),(0,B.jsxs)(W.A,{fullWidth:!0,margin:"dense",children:[(0,B.jsx)(M.A,{children:"Mode R\xe8glement"}),(0,B.jsxs)(z.A,{name:"modeReglement",label:"Mode R\xe8glement",value:h.modeReglement,onChange:u,children:[(0,B.jsx)(T.A,{value:"carte",children:"Carte"}),(0,B.jsx)(T.A,{value:"espece",children:"Esp\xe8ce"})]})]}),(0,B.jsx)(W.A,{fullWidth:!0,margin:"dense",children:(0,B.jsx)(D.A,{freeSolo:!0,fullWidth:!0,loading:s,id:"clients-autocomplete",disableClearable:!0,options:r.map((e=>e.name+" N("+e.id+")")),value:h.client,onChange:(e,n)=>x({...h,client:n}),renderInput:e=>(0,B.jsx)(F.A,{...e,placeholder:"S\xe9lectionner un client","aria-label":"S\xe9lectionner un client",inputprops:{...e.inputprops,type:"search"}})})}),(0,B.jsxs)(W.A,{fullWidth:!0,margin:"dense",children:[(0,B.jsx)(M.A,{children:"Type"}),(0,B.jsxs)(z.A,{name:"type",label:"Type",value:h.type,onChange:u,children:[(0,B.jsx)(T.A,{value:"neuf",children:"Neuf"}),(0,B.jsx)(T.A,{value:"chdaya",children:"Chdaya"})]})]}),(0,B.jsx)(F.A,{margin:"dense",id:"carte-id-file",label:"Carte ID",type:"file",fullWidth:!0,name:"carteId",onChange:g,InputLabelProps:{shrink:!0}}),(0,B.jsx)(F.A,{margin:"dense",id:"recu-file",label:"Re\xe7u",type:"file",fullWidth:!0,name:"recu",onChange:g,InputLabelProps:{shrink:!0}}),(0,B.jsx)(F.A,{margin:"dense",id:"article-file",label:"Article",type:"file",fullWidth:!0,name:"article",onChange:g,InputLabelProps:{shrink:!0}})]})]}),(0,B.jsxs)(E.A,{children:[(0,B.jsx)(m.A,{color:"error",onClick:p,disabled:d,children:"Annuler"}),(0,B.jsx)(m.A,{onClick:async()=>{c(!0);try{await o((0,S.dy)({id:a.id,achatData:h})),p()}catch(e){console.error("Error updating achat:",e)}finally{c(!1)}},disabled:d,children:d?(0,B.jsx)(b.A,{size:24}):"Soumettre"})]})]})})};var V=t(92206),H=t(17239);const J=e=>{let{row:n,onEdit:t,onDelete:l}=e;const[a,r]=i.useState(null),s=()=>{r(null)};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(g.A,{title:"Actions",children:(0,B.jsx)(A.A,{"aria-controls":"action-menu","aria-haspopup":"true",onClick:e=>{r(e.currentTarget)},children:(0,B.jsx)(w._TI,{width:"16"})})}),(0,B.jsxs)(H.A,{id:"action-menu",anchorEl:a,open:Boolean(a),onClose:s,children:[(0,B.jsxs)(T.A,{onClick:()=>{t(n),s()},children:[(0,B.jsx)(w.GI1,{style:{marginRight:"8px"}}),"Modifier"]}),(0,B.jsxs)(T.A,{onClick:()=>{l(n.id),s()},children:[(0,B.jsx)(w.Eau,{style:{marginRight:"8px"}}),"Supprimer"]})]})]})};var X=t(91729),Y=t(97497);const Z=e=>{let{open:n,onClose:t,onSubmitFilter:a}=e;const r=(0,k.d4)($.Po),s=(0,k.d4)((e=>e.clientReducer.loading)),o=(0,k.wA)(),[d,c]=(0,i.useState)({date_from:"",date_to:"",designation:"",poids_min:"",poids_max:"",prix_ag_min:"",prix_ag_max:"",prix_total_min:"",prix_total_max:"",mode_reglement:"",client:"",type:""});(0,i.useEffect)((()=>{n&&o((0,$.$3)())}),[n,o]);const h=()=>{t()},x=e=>{const{name:n,value:t}=e.target;c((e=>({...e,[n]:t})))};return(0,B.jsxs)(_.A,{open:n,onClose:h,children:[(0,B.jsx)(P.A,{children:"Filtrer les Achats"}),(0,B.jsxs)(R.A,{children:[(0,B.jsx)(I.A,{children:"Veuillez appliquer les filtres souhait\xe9s pour la liste des achats."}),(0,B.jsxs)(l.A,{mt:2,children:[(0,B.jsxs)(l.A,{display:"flex",gap:2,children:[(0,B.jsx)(F.A,{margin:"dense",id:"date_from",label:"Date De",type:"date",fullWidth:!0,name:"date_from",value:d.date_from,onChange:x,InputLabelProps:{shrink:!0}}),(0,B.jsx)(F.A,{margin:"dense",id:"date_to",label:"Date \xc0",type:"date",fullWidth:!0,name:"date_to",value:d.date_to,onChange:x,InputLabelProps:{shrink:!0}})]}),(0,B.jsx)(F.A,{margin:"dense",id:"designation",label:"D\xe9signation",type:"text",fullWidth:!0,name:"designation",value:d.designation,onChange:x}),(0,B.jsxs)(l.A,{display:"flex",gap:2,children:[(0,B.jsx)(F.A,{margin:"dense",id:"poids_min",label:"Poids Min",type:"number",fullWidth:!0,name:"poids_min",value:d.poids_min,onChange:x}),(0,B.jsx)(F.A,{margin:"dense",id:"poids_max",label:"Poids Max",type:"number",fullWidth:!0,name:"poids_max",value:d.poids_max,onChange:x})]}),(0,B.jsxs)(l.A,{display:"flex",gap:2,children:[(0,B.jsx)(F.A,{margin:"dense",id:"prix_ag_min",label:"Prix A/g Min",type:"number",fullWidth:!0,name:"prix_ag_min",value:d.prix_ag_min,onChange:x}),(0,B.jsx)(F.A,{margin:"dense",id:"prix_ag_max",label:"Prix A/g Max",type:"number",fullWidth:!0,name:"prix_ag_max",value:d.prix_ag_max,onChange:x})]}),(0,B.jsxs)(l.A,{display:"flex",gap:2,children:[(0,B.jsx)(F.A,{margin:"dense",id:"prix_total_min",label:"Prix Total Min",type:"number",fullWidth:!0,name:"prix_total_min",value:d.prix_total_min,onChange:x}),(0,B.jsx)(F.A,{margin:"dense",id:"prix_total_max",label:"Prix Total Max",type:"number",fullWidth:!0,name:"prix_total_max",value:d.prix_total_max,onChange:x})]}),(0,B.jsxs)(W.A,{fullWidth:!0,margin:"dense",children:[(0,B.jsx)(M.A,{children:"Mode R\xe8glement"}),(0,B.jsxs)(z.A,{name:"mode_reglement",label:"Mode R\xe8glement",value:d.mode_reglement,onChange:x,children:[(0,B.jsx)(T.A,{value:"carte",children:"Carte"}),(0,B.jsx)(T.A,{value:"espece",children:"Esp\xe8ce"})]})]}),(0,B.jsx)(W.A,{fullWidth:!0,margin:"dense",children:(0,B.jsx)(D.A,{freeSolo:!0,fullWidth:!0,loading:s,id:"clients-autocomplete",disableClearable:!0,options:r.map((e=>e.name+" N("+e.id+")")),value:d.client,onChange:(e,n)=>c({...d,client:n}),renderInput:e=>(0,B.jsx)(F.A,{...e,placeholder:"S\xe9lectionner un client","aria-label":"S\xe9lectionner un client",inputprops:{...e.inputprops,type:"search"}})})}),(0,B.jsxs)(W.A,{fullWidth:!0,margin:"dense",children:[(0,B.jsx)(M.A,{children:"Type"}),(0,B.jsxs)(z.A,{name:"type",label:"Type",value:d.type,onChange:x,children:[(0,B.jsx)(T.A,{value:"neuf",children:"Neuf"}),(0,B.jsx)(T.A,{value:"chdaya",children:"Chdaya"})]})]})]})]}),(0,B.jsxs)(E.A,{children:[(0,B.jsx)(m.A,{color:"error",onClick:h,children:"Annuler"}),(0,B.jsx)(m.A,{onClick:()=>{a(d),h()},children:"Appliquer Filtres"})]})]})},K=[{id:"date",label:"Date"},{id:"designation",label:"Designation"},{id:"poids",label:"Poids"},{id:"prixAg",label:"Prix A/g"},{id:"prixTotal",label:"Prix Total"},{id:"modeReglement",label:"Mode R\xe8glement"},{id:"client",label:"Client"},{id:"type",label:"Type"},{id:"action",label:"Action"}];function Q(e){let{order:n,orderBy:t,onRequestSort:i,numSelected:l,rowCount:a,onSelectAllClick:r}=e;return(0,B.jsx)(s.A,{children:(0,B.jsxs)(o.A,{children:[(0,B.jsx)(d.A,{padding:"checkbox",children:(0,B.jsx)(V.A,{color:"primary",checked:a>0&&l===a,onChange:r,inputProps:{"aria-label":"select all achats"}})}),K.map((e=>{return(0,B.jsx)(d.A,{sortDirection:t===e.id&&n,children:(0,B.jsx)(c.A,{active:t===e.id,direction:t===e.id?n:"asc",onClick:(l=e.id,e=>{i(e,l)}),children:e.label})},e.id);var l}))]})})}const U=e=>{let{numSelected:n,handleSearch:t,search:a,onSubmitFilter:r,handleExport:s}=e;const[o,d]=(0,i.useState)(!1);return(0,B.jsxs)(h.A,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...n>0&&{bgcolor:e=>(0,Y.X4)(e.palette.primary.main,e.palette.action.activatedOpacity)}},children:[n>0?(0,B.jsxs)(x.A,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle2",children:[n," selected"]}):(0,B.jsx)(l.A,{sx:{flex:"1 1 100%"},children:(0,B.jsx)(p.A,{InputProps:{startAdornment:(0,B.jsx)(u.A,{position:"start",children:(0,B.jsx)(w.C0l,{size:"1.1rem"})})},placeholder:"Rechercher un achat",size:"small",onChange:t,value:a})}),(0,B.jsxs)(l.A,{display:"flex",alignItems:"center",gap:"16px",children:[(0,B.jsx)(m.A,{onClick:s,variant:"contained",color:"success",startIcon:(0,B.jsx)(w.Grb,{}),sx:{width:{xs:"auto",md:"175px"},"& .MuiButton-startIcon":{marginRight:{xs:0,sm:0,md:"8px"}}},children:(0,B.jsx)(l.A,{component:"span",sx:{display:{xs:"none",md:"inline"},whiteSpace:"nowrap"},children:"Export Achats"})}),(0,B.jsx)(N,{}),(0,B.jsx)(Z,{open:o,onClose:()=>{d(!1)},onSubmitFilter:r}),(0,B.jsx)(g.A,{title:"Filter list",children:(0,B.jsx)(A.A,{color:"primary",onClick:()=>{d(!0)},children:(0,B.jsx)(w.uJ7,{size:"1.2rem",icon:"filter"})})}),n>0&&(0,B.jsx)(g.A,{title:"Delete",children:(0,B.jsx)(A.A,{color:"error",children:(0,B.jsx)(w.Eau,{width:"18"})})})]})]})},ee=()=>{const[e,n]=(0,i.useState)("desc"),[t,a]=(0,i.useState)("date"),[r,s]=(0,i.useState)(0),[c,h]=(0,i.useState)(5),[p,u]=(0,i.useState)(""),[m,g]=(0,i.useState)(!0),[A,w]=(0,i.useState)(!1),[_,P]=(0,i.useState)(null),[R,I]=(0,i.useState)([]),[W,M]=(0,i.useState)(null),[T,D]=(0,i.useState)({}),E=(0,k.wA)(),F=(0,k.d4)((e=>e.achatReducer.achats)),z=(0,k.d4)((e=>e.achatReducer.total));(0,i.useEffect)((()=>{g(!0),E((0,S.ff)({page:r,filters:{rowsPerPage:c,search:p,...T},order:e,orderBy:t})).finally((()=>g(!1)))}),[E,r,c,p,T,e,t]);const $=e=>{P(e),w(!0)},L=e=>{window.confirm("Are you sure you want to delete this achat?")&&E((0,S.Z3)(e))};return(0,B.jsxs)(l.A,{children:[(0,B.jsx)(U,{search:p,handleSearch:e=>{u(e.target.value),s(0)},numSelected:R.length,handleExport:()=>{E((0,S.xY)(T))},onSubmitFilter:e=>{D(e)}}),(0,B.jsxs)(j.A,{variant:"outlined",sx:{mx:2,mt:1},children:[(0,B.jsx)(f.A,{children:m?(0,B.jsx)(l.A,{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",children:(0,B.jsx)(b.A,{})}):(0,B.jsxs)(y.A,{"aria-labelledby":"tableTitle",children:[R.length>0&&(0,B.jsxs)("caption",{children:["The total selected rows: ",(0,B.jsxs)("b",{children:[W," DH"]})]}),(0,B.jsx)(Q,{order:e,orderBy:t,onRequestSort:(i,l)=>{n(t===l&&"asc"===e?"desc":"asc"),a(l)},onSelectAllClick:e=>{if(e.target.checked){const e=F.map((e=>e.id)),n=F.map((e=>parseFloat(e.prixTotal))).reduce(((e,n)=>e+n));M(n),I(e)}else M(null),I([])},numSelected:R.length,rowCount:F.length}),(0,B.jsxs)(v.A,{children:[F.map(((e,n)=>{const t=(i=e.id,-1!==R.indexOf(i));var i;return(0,B.jsxs)(o.A,{hover:!0,onClick:n=>(async e=>{const n=R.indexOf(e);let t=[];if(e!==(null===_||void 0===_?void 0:_.id)){if(-1===n?t=t.concat(R,e):0===n?t=t.concat(R.slice(1)):n===R.length-1?t=t.concat(R.slice(0,-1)):n>0&&(t=t.concat(R.slice(0,n),R.slice(n+1))),t.length>0){const e=F.filter((e=>t.includes(e.id))).map((e=>parseFloat(e.prixTotal))).reduce(((e,n)=>e+n));M(e)}I(t)}})(e.id),role:"checkbox","aria-checked":t,tabIndex:-1,selected:t,children:[(0,B.jsx)(d.A,{padding:"checkbox",children:(0,B.jsx)(V.A,{color:"primary",checked:t,inputProps:{"aria-labelledby":e.id}})}),(0,B.jsx)(d.A,{type:"date",children:(0,X.A)(new Date(e.date),"yyyy-MM-dd")}),(0,B.jsx)(d.A,{children:e.designation}),(0,B.jsx)(d.A,{children:e.poids}),(0,B.jsx)(d.A,{children:e.prixAg}),(0,B.jsx)(d.A,{children:e.prixTotal}),(0,B.jsx)(d.A,{children:e.modeReglement}),(0,B.jsx)(d.A,{children:e.client}),(0,B.jsx)(d.A,{children:e.type}),(0,B.jsx)(d.A,{children:(0,B.jsx)(J,{row:e,onEdit:$,onDelete:L})})]},e.id)})),F.length<=0&&(0,B.jsx)(o.A,{style:{height:265},children:(0,B.jsx)(d.A,{colSpan:K.length,align:"center",children:(0,B.jsx)(x.A,{variant:"body2",children:"Aucune donn\xe9e disponible"})})})]})]})}),(0,B.jsx)(C.A,{rowsPerPageOptions:[5,10,25],component:"div",count:z,rowsPerPage:c,page:r,onPageChange:(e,n)=>{s(n)},onRowsPerPageChange:e=>{h(parseInt(e.target.value,10)),s(0)}})]}),_&&(0,B.jsx)(q,{open:A,onClose:()=>{w(!1),P(null)},achatData:_})]})},ne=()=>(0,B.jsxs)(r.A,{title:"Search Table",description:"this is Search Table page",children:[(0,B.jsx)(a.A,{title:"Liste des achats"}),(0,B.jsx)(l.A,{children:(0,B.jsx)(ee,{})})]})},46639:(e,n,t)=>{t.d(n,{A:()=>P});var i=t(98587),l=t(58168),a=t(9950),r=t(60533),s=t(88465),o=t(88283),d=t(61676),c=t(18463),h=t(59254),x=t(1763),p=t(423);function u(e){return(0,p.Ay)("MuiCircularProgress",e)}(0,x.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var m=t(44414);const g=["className","color","disableShrink","size","style","thickness","value","variant"];let A,j,f,b,y=e=>e;const v=44,C=(0,o.i7)(A||(A=y`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),k=(0,o.i7)(j||(j=y`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),S=(0,h.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,n[t.variant],n[`color${(0,d.A)(t.color)}`]]}})((e=>{let{ownerState:n,theme:t}=e;return(0,l.A)({display:"inline-block"},"determinate"===n.variant&&{transition:t.transitions.create("transform")},"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main})}),(e=>{let{ownerState:n}=e;return"indeterminate"===n.variant&&(0,o.AH)(f||(f=y`
      animation: ${0} 1.4s linear infinite;
    `),C)})),w=(0,h.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,n)=>n.svg})({display:"block"}),_=(0,h.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.circle,n[`circle${(0,d.A)(t.variant)}`],t.disableShrink&&n.circleDisableShrink]}})((e=>{let{ownerState:n,theme:t}=e;return(0,l.A)({stroke:"currentColor"},"determinate"===n.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===n.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:n}=e;return"indeterminate"===n.variant&&!n.disableShrink&&(0,o.AH)(b||(b=y`
      animation: ${0} 1.4s ease-in-out infinite;
    `),k)})),P=a.forwardRef((function(e,n){const t=(0,c.b)({props:e,name:"MuiCircularProgress"}),{className:a,color:o="primary",disableShrink:h=!1,size:x=40,style:p,thickness:A=3.6,value:j=0,variant:f="indeterminate"}=t,b=(0,i.A)(t,g),y=(0,l.A)({},t,{color:o,disableShrink:h,size:x,thickness:A,value:j,variant:f}),C=(e=>{const{classes:n,variant:t,color:i,disableShrink:l}=e,a={root:["root",t,`color${(0,d.A)(i)}`],svg:["svg"],circle:["circle",`circle${(0,d.A)(t)}`,l&&"circleDisableShrink"]};return(0,s.A)(a,u,n)})(y),k={},P={},R={};if("determinate"===f){const e=2*Math.PI*((v-A)/2);k.strokeDasharray=e.toFixed(3),R["aria-valuenow"]=Math.round(j),k.strokeDashoffset=`${((100-j)/100*e).toFixed(3)}px`,P.transform="rotate(-90deg)"}return(0,m.jsx)(S,(0,l.A)({className:(0,r.A)(C.root,a),style:(0,l.A)({width:x,height:x},P,p),ownerState:y,ref:n,role:"progressbar"},R,b,{children:(0,m.jsx)(w,{className:C.svg,ownerState:y,viewBox:"22 22 44 44",children:(0,m.jsx)(_,{className:C.circle,style:k,ownerState:y,cx:v,cy:v,r:(v-A)/2,fill:"none",strokeWidth:A})})}))}))}}]);