"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[945],{3580:(e,t,i)=>{i.d(t,{A:()=>a});i(9950);var n=i(72772),r=i(44414);const a=e=>{let{title:t,description:i,children:a}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.m,{children:[(0,r.jsx)("title",{children:t}),(0,r.jsx)("meta",{name:"description",content:i})]}),a]})}},92206:(e,t,i)=>{i.d(t,{A:()=>o});i(9950);var n=i(59254),r=i(93038),a=i(44414);const l=(0,n.Ay)("span")((e=>{let{theme:t}=e;return{borderRadius:3,width:19,height:19,marginLeft:"4px",boxShadow:"dark"===t.palette.mode?`0 0 0 1px ${t.palette.grey[200]}`:`inset 0 0 0 1px ${t.palette.grey[300]}`,backgroundColor:"transparent",".Mui-focusVisible &":{outline:"dark"===t.palette.mode?`0px auto ${t.palette.grey[200]}`:`0px auto  ${t.palette.grey[300]}`,outlineOffset:2},"input:hover ~ &":{backgroundColor:(t.palette.mode,t.palette.primary)},"input:disabled ~ &":{boxShadow:"none",background:t.palette.grey[100]}}})),s=(0,n.Ay)(l)({boxShadow:"none",width:19,height:19,"&:before":{display:"block",width:19,height:19,backgroundImage:"url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12 5c-.28 0-.53.11-.71.29L7 9.59l-2.29-2.3a1.003 1.003 0 00-1.42 1.42l3 3c.18.18.43.29.71.29s.53-.11.71-.29l5-5A1.003 1.003 0 0012 5z' fill='%23fff'/%3E%3C/svg%3E\")",content:'""'}});const o=function(e){return(0,a.jsx)(r.A,{disableRipple:!0,color:e.color?e.color:"default",checkedIcon:(0,a.jsx)(s,{sx:{backgroundColor:e.color?`${e.color}.main`:"primary.main"}}),icon:(0,a.jsx)(l,{}),inputProps:{"aria-label":"Checkbox demo"},...e})}},25803:(e,t,i)=>{i.d(t,{A:()=>l});i(9950);var n=i(59254),r=i(70006),a=i(44414);const l=(0,n.Ay)((e=>(0,a.jsx)(r.A,{...e})))()},23366:(e,t,i)=>{i.d(t,{A:()=>l});i(9950);var n=i(59254),r=i(29925),a=i(44414);const l=(0,n.Ay)((e=>(0,a.jsx)(r.A,{...e})))((e=>{let{theme:t}=e;return{"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:t.palette.text.secondary,opacity:"0.8"},"& .MuiOutlinedInput-input.Mui-disabled::-webkit-input-placeholder":{color:t.palette.text.secondary,opacity:"1"},"& .Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.grey[200]}}}))},41541:(e,t,i)=>{i.d(t,{A:()=>p});i(9950);var n=i(60899),r=i(82053),a=i(52432),l=i(36080),s=i(16491),o=i(42074);const c=i.p+"static/media/ChatBc.62cf6334552b0c3ed7eb.png";var d=i(85111),x=i(44414);const p=e=>{let{subtitle:t,items:i,title:p,children:h}=e;return(0,x.jsxs)(n.Ay,{container:!0,sx:{backgroundColor:"primary.light",borderRadius:e=>e.shape.borderRadius/4,p:"30px 25px 20px",marginBottom:"30px",position:"relative",overflow:"hidden"},children:[(0,x.jsxs)(n.Ay,{item:!0,xs:12,sm:6,lg:8,mb:1,children:[(0,x.jsx)(r.A,{variant:"h4",children:p}),(0,x.jsx)(r.A,{color:"textSecondary",variant:"h6",fontWeight:400,mt:.8,mb:0,children:t}),(0,x.jsx)(a.A,{separator:(0,x.jsx)(d.ABt,{size:"5",fill:"textSecondary",fillOpacity:"0.6",style:{margin:"0 5px"}}),sx:{alignItems:"center",mt:i?"10px":""},"aria-label":"breadcrumb",children:i?i.map((e=>(0,x.jsx)("div",{children:e.to?(0,x.jsx)(l.A,{underline:"none",color:"inherit",component:o.k2,to:e.to,children:e.title}):(0,x.jsx)(r.A,{color:"textPrimary",children:e.title})},e.title))):""})]}),(0,x.jsx)(n.Ay,{item:!0,xs:12,sm:6,lg:4,display:"flex",alignItems:"flex-end",children:(0,x.jsx)(s.A,{sx:{display:{xs:"none",md:"block",lg:"flex"},alignItems:"center",justifyContent:"flex-end",width:"100%"},children:h?(0,x.jsx)(s.A,{sx:{top:"0px",position:"absolute"},children:h}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(s.A,{sx:{top:"0px",position:"absolute"},children:(0,x.jsx)("img",{src:c,alt:c})})})})})]})}},19895:(e,t,i)=>{i.d(t,{G:()=>n});const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;const i=Math.pow(10,t);return(Math.trunc(e*i)/i).toFixed(t)}},40002:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ie});var n=i(9950),r=i(16491),a=i(41541),l=i(3580),s=i(97497),o=i(91729),c=i(69780),d=i(9213),x=i(21671),p=i(7251),h=i(83239),u=i(82053),m=i(29925),_=i(2046),b=i(10226),v=i(83274),g=i(25333),A=i(2235),j=i(1320),f=i(15769),y=i(34075),M=i(36780),C=i(80691),k=i(82569),P=i(76545),S=i(92206),w=i(85111),T=i(63464),W=i(40033),D=i(28170),I=i(6493),F=i(25979),G=i(3788),R=i(23266),B=i(79739),z=i(46639),E=i(23366),L=i(25803),$=i(19895),q=i(44414);const O=["Type 10","Type 20"],N=()=>{const e=(0,k.wA)(),[t,i]=n.useState(!1),[a,l]=n.useState(!1),[s,o]=n.useState({piece:"",type:"",nombre:"",prix_achat_total:"",prix_achat:"",prix_vente_unitaire:"",date_vente:"",prix_vente:"",benefice:""}),[c,d]=n.useState({}),x=()=>{l(!1)},p=e=>{const{name:t,value:i}=e.target,n={...s,[t]:i};"prix_achat_total"===t&&(n.prix_achat=(0,$.G)(n.prix_achat_total/n.nombre,3)),"prix_achat"===t&&(n.prix_achat_total=(0,$.G)(n.prix_achat*n.nombre,3)),"prix_vente"===t&&(n.prix_vente_unitaire=(0,$.G)(n.prix_vente/n.nombre,3)),"prix_vente_unitaire"===t&&(n.prix_vente=(0,$.G)(n.prix_vente_unitaire*n.nombre,3)),"nombre"===t&&(n.prix_vente=(0,$.G)(n.prix_vente_unitaire*n.nombre,3),n.prix_achat_total=(0,$.G)(n.prix_achat*n.nombre,3)),n.benefice=(0,$.G)(n.prix_vente-n.prix_achat_total,3),o(n),c[t]&&d({...c,[t]:""})};return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(b.A,{onClick:()=>{l(!0)},variant:"contained",color:"primary",startIcon:(0,q.jsx)(w.uID,{}),sx:{width:{xs:"auto",md:"175px"},"& .MuiButton-startIcon":{marginRight:{xs:0,sm:0,md:"8px"}}},children:(0,q.jsx)(r.A,{component:"span",sx:{display:{xs:"none",md:"inline"},whiteSpace:"nowrap"},children:"Cr\xe9er une Luise"})}),(0,q.jsxs)(T.A,{open:a,onClose:x,children:[(0,q.jsx)(W.A,{children:"Cr\xe9er une Luise"}),(0,q.jsxs)(D.A,{children:[(0,q.jsx)(I.A,{children:"Veuillez entrer les d\xe9tails pour cr\xe9er une entr\xe9e de Luise."}),(0,q.jsxs)(r.A,{mt:2,children:[(0,q.jsx)(E.A,{autoFocus:!0,margin:"dense",id:"piece",label:"Pi\xe8ce",fullWidth:!0,name:"piece",value:s.piece,onChange:p,error:!!c.piece,helperText:c.piece}),(0,q.jsxs)(F.A,{fullWidth:!0,margin:"dense",children:[(0,q.jsx)(G.A,{children:"Type"}),(0,q.jsx)(L.A,{name:"type",label:"Type",value:s.type,onChange:p,error:!!c.type,helperText:c.type,children:O.map((e=>(0,q.jsx)(R.A,{value:e,children:e},e)))})]}),(0,q.jsx)(E.A,{margin:"dense",id:"nombre",label:"Nombre",type:"number",fullWidth:!0,name:"nombre",value:s.nombre,onChange:p,error:!!c.nombre,helperText:c.nombre}),(0,q.jsx)(E.A,{margin:"dense",id:"prix_achat_total",label:"Prix d'achat total",type:"number",fullWidth:!0,name:"prix_achat_total",value:s.prix_achat_total,onChange:p,error:!!c.prix_achat_total,helperText:c.prix_achat_total}),(0,q.jsx)(E.A,{margin:"dense",id:"prix_achat",label:"Prix d'achat",type:"number",fullWidth:!0,name:"prix_achat",value:s.prix_achat,onChange:p,error:!!c.prix_achat,helperText:c.prix_achat}),(0,q.jsx)(E.A,{margin:"dense",id:"prix_vente_unitaire",label:"Prix de vente unitaire",type:"number",fullWidth:!0,name:"prix_vente_unitaire",value:s.prix_vente_unitaire,onChange:p,error:!!c.prix_vente_unitaire,helperText:c.prix_vente_unitaire}),(0,q.jsx)(E.A,{margin:"dense",id:"date_vente",label:"Date vente",type:"date",fullWidth:!0,name:"date_vente",value:s.date_vente,onChange:p,InputLabelProps:{shrink:!0},error:!!c.date_vente,helperText:c.date_vente}),(0,q.jsx)(E.A,{margin:"dense",id:"prix_vente",label:"Prix de vente",type:"number",fullWidth:!0,name:"prix_vente",value:s.prix_vente,onChange:p,error:!!c.prix_vente,helperText:c.prix_vente}),(0,q.jsx)(E.A,{margin:"dense",id:"benefice",label:"B\xe9n\xe9fice",type:"number",fullWidth:!0,name:"benefice",value:s.benefice,onChange:p,error:!!c.benefice,helperText:c.benefice})]})]}),(0,q.jsxs)(B.A,{children:[(0,q.jsx)(b.A,{color:"error",onClick:x,children:"Annuler"}),(0,q.jsx)(b.A,{onClick:async()=>{i(!0);try{await e((0,P.lq)(s)),x(),o({piece:"",type:"",nombre:"",prix_achat_total:"",prix_achat:"",prix_vente_unitaire:"",date_vente:"",prix_vente:"",benefice:""})}catch(t){t.response&&t.response.data&&t.response.data.errors&&d(t.response.data.errors),console.error("Error submitting form:",t)}finally{i(!1)}},disabled:t,children:t?(0,q.jsx)(z.A,{size:24}):"Soumettre"})]})]})]})};var V=i(59051),H=i.n(V);const U=["Type 10","Type 20"],J=e=>{let{open:t,onClose:i,luiseData:a}=e;const l=(0,k.wA)(),[s,o]=(0,n.useState)({piece:"",type:"",nombre:"",prix_achat_total:"",prix_achat:"",prix_vente_unitaire:"",date_vente:"",prix_vente:"",benefice:""}),[c,d]=(0,n.useState)({}),[x,p]=(0,n.useState)(!1);(0,n.useEffect)((()=>{t&&a&&o({piece:a.piece||"",type:a.type||"",nombre:a.nombre||"",prix_achat_total:a.prix_achat_total||"",prix_achat:a.prix_achat||"",prix_vente_unitaire:a.prix_vente_unitaire||"",date_vente:a.date_vente?H()(a.date_vente).utc().format("yyyy-MM-DD"):"",prix_vente:a.prix_vente||"",benefice:a.benefice||""})}),[t,a]);const h=e=>{const{name:t,value:i}=e.target,n={...s,[t]:i};"prix_achat_total"===t&&(n.prix_achat=(0,$.G)(n.prix_achat_total/n.nombre,3)),"prix_achat"===t&&(n.prix_achat_total=(0,$.G)(n.prix_achat*n.nombre,3)),"prix_vente"===t&&(n.prix_vente_unitaire=(0,$.G)(n.prix_vente/n.nombre,3)),"prix_vente_unitaire"===t&&(n.prix_vente=(0,$.G)(n.prix_vente_unitaire*n.nombre,3)),"nombre"===t&&(n.prix_vente=(0,$.G)(n.prix_vente_unitaire*n.nombre,3),n.prix_achat_total=(0,$.G)(n.prix_achat*n.nombre,3)),n.benefice=(0,$.G)(n.prix_vente-n.prix_achat_total,3),o(n),d((e=>({...e,[t]:""})))},u=()=>{i(),o({piece:"",type:"",nombre:"",prix_achat_total:"",prix_achat:"",prix_vente_unitaire:"",date_vente:"",prix_vente:"",benefice:""}),d({})};return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(T.A,{open:t,onClose:u,children:[(0,q.jsx)(W.A,{children:"Modifier la Luise"}),(0,q.jsxs)(D.A,{children:[(0,q.jsx)(I.A,{children:"Veuillez modifier les d\xe9tails de la Luise."}),(0,q.jsxs)(r.A,{mt:2,children:[(0,q.jsx)(E.A,{autoFocus:!0,margin:"dense",id:"piece",label:"Pi\xe8ce",fullWidth:!0,name:"piece",value:s.piece,onChange:h,error:!!c.piece,helperText:c.piece}),(0,q.jsxs)(F.A,{fullWidth:!0,margin:"dense",children:[(0,q.jsx)(G.A,{children:"Type"}),(0,q.jsx)(L.A,{name:"type",label:"Type",value:s.type,onChange:h,error:!!c.type,helperText:c.type,children:U.map((e=>(0,q.jsx)(R.A,{value:e,children:e},e)))})]}),(0,q.jsx)(E.A,{margin:"dense",id:"nombre",label:"Nombre",type:"number",fullWidth:!0,name:"nombre",value:s.nombre,onChange:h,error:!!c.nombre,helperText:c.nombre}),(0,q.jsx)(E.A,{margin:"dense",id:"prix_achat_total",label:"Prix d'achat total",type:"number",fullWidth:!0,name:"prix_achat_total",value:s.prix_achat_total,onChange:h,error:!!c.prix_achat_total,helperText:c.prix_achat_total}),(0,q.jsx)(E.A,{margin:"dense",id:"prix_achat",label:"Prix d'achat",type:"number",fullWidth:!0,name:"prix_achat",value:s.prix_achat,onChange:h,error:!!c.prix_achat,helperText:c.prix_achat}),(0,q.jsx)(E.A,{margin:"dense",id:"prix_vente_unitaire",label:"Prix de vente unitaire",type:"number",fullWidth:!0,name:"prix_vente_unitaire",value:s.prix_vente_unitaire,onChange:h,error:!!c.prix_vente_unitaire,helperText:c.prix_vente_unitaire}),(0,q.jsx)(E.A,{margin:"dense",id:"date_vente",label:"Date vente",type:"date",fullWidth:!0,name:"date_vente",value:s.date_vente,onChange:h,InputLabelProps:{shrink:!0},error:!!c.date_vente,helperText:c.date_vente}),(0,q.jsx)(E.A,{margin:"dense",id:"prix_vente",label:"Prix de vente",type:"number",fullWidth:!0,name:"prix_vente",value:s.prix_vente,onChange:h,error:!!c.prix_vente,helperText:c.prix_vente}),(0,q.jsx)(E.A,{margin:"dense",id:"benefice",label:"B\xe9n\xe9fice",type:"number",fullWidth:!0,name:"benefice",value:s.benefice,onChange:h,error:!!c.benefice,helperText:c.benefice})]})]}),(0,q.jsxs)(B.A,{children:[(0,q.jsx)(b.A,{color:"error",onClick:u,children:"Annuler"}),(0,q.jsx)(b.A,{onClick:async()=>{if((()=>{const e={};return s.piece||(e.piece="Pi\xe8ce est requise"),s.type||(e.type="Type est requis"),s.nombre||(e.nombre="Nombre est requis"),s.prix_achat_total||(e.prix_achat_total="Prix d'achat total est requis"),s.prix_achat||(e.prix_achat="Prix d'achat est requis"),s.prix_vente_unitaire||(e.prix_vente_unitaire="Prix de vente unitaire est requis"),s.date_vente||(e.date_vente="Date de vente est requise"),s.prix_vente||(e.prix_vente="Prix de vente est requis"),s.benefice||(e.benefice="B\xe9n\xe9fice est requis"),d(e),0===Object.keys(e).length})()){p(!0);try{await l((0,P.GD)({id:a.id,luiseData:s})),u()}catch(e){console.error("Error submitting form:",e)}finally{p(!1)}}},disabled:x,children:x?(0,q.jsx)(z.A,{size:24}):"Soumettre"})]})]})})};i(11769);var Q=i(60899);const X=["Type 10","Type 20"],K=e=>{let{open:t,handleClose:i,applyFilters:a}=e;const[l,s]=(0,n.useState)({piece:"",type:"",nombreMin:"",nombreMax:"",prix_achat_totalMin:"",prix_achat_totalMax:"",prix_achatMin:"",prix_achatMax:"",prix_vente_unitaireMin:"",prix_vente_unitaireMax:"",date_venteFrom:"",date_venteTo:"",prix_venteMin:"",prix_venteMax:"",beneficeMin:"",beneficeMax:""}),o=e=>{const{name:t,value:i}=e.target;s({...l,[t]:i})};return(0,q.jsxs)(T.A,{open:t,onClose:i,children:[(0,q.jsx)(W.A,{children:"Filtrer la Luise"}),(0,q.jsx)(D.A,{children:(0,q.jsx)(r.A,{mt:2,children:(0,q.jsxs)(Q.Ay,{container:!0,spacing:2,children:[(0,q.jsxs)(Q.Ay,{item:!0,xs:12,sm:6,children:[(0,q.jsx)(E.A,{margin:"dense",id:"piece",label:"Pi\xe8ce",fullWidth:!0,name:"piece",value:l.piece,onChange:o}),(0,q.jsxs)(F.A,{fullWidth:!0,margin:"dense",children:[(0,q.jsx)(G.A,{children:"Type"}),(0,q.jsx)(L.A,{name:"type",label:"Type",value:l.type,onChange:o,children:X.map((e=>(0,q.jsx)(R.A,{value:e,children:e},e)))})]}),(0,q.jsx)(E.A,{margin:"dense",id:"nombreMin",label:"Nombre Min",type:"number",fullWidth:!0,name:"nombreMin",value:l.nombreMin,onChange:o}),(0,q.jsx)(E.A,{margin:"dense",id:"nombreMax",label:"Nombre Max",type:"number",fullWidth:!0,name:"nombreMax",value:l.nombreMax,onChange:o}),(0,q.jsx)(E.A,{margin:"dense",id:"prix_achat_totalMin",label:"Prix d'achat total Min",type:"number",fullWidth:!0,name:"prix_achat_totalMin",value:l.prix_achat_totalMin,onChange:o}),(0,q.jsx)(E.A,{margin:"dense",id:"prix_achat_totalMax",label:"Prix d'achat total Max",type:"number",fullWidth:!0,name:"prix_achat_totalMax",value:l.prix_achat_totalMax,onChange:o}),(0,q.jsx)(E.A,{margin:"dense",id:"prix_achatMin",label:"Prix d'achat Min",type:"number",fullWidth:!0,name:"prix_achatMin",value:l.prix_achatMin,onChange:o}),(0,q.jsx)(E.A,{margin:"dense",id:"prix_achatMax",label:"Prix d'achat Max",type:"number",fullWidth:!0,name:"prix_achatMax",value:l.prix_achatMax,onChange:o})]}),(0,q.jsxs)(Q.Ay,{item:!0,xs:12,sm:6,children:[(0,q.jsx)(E.A,{margin:"dense",id:"prix_vente_unitaireMin",label:"Prix de vente unitaire Min",type:"number",fullWidth:!0,name:"prix_vente_unitaireMin",value:l.prix_vente_unitaireMin,onChange:o}),(0,q.jsx)(E.A,{margin:"dense",id:"prix_vente_unitaireMax",label:"Prix de vente unitaire Max",type:"number",fullWidth:!0,name:"prix_vente_unitaireMax",value:l.prix_vente_unitaireMax,onChange:o}),(0,q.jsx)(E.A,{margin:"dense",id:"date_venteFrom",label:"Date vente From",type:"date",fullWidth:!0,name:"date_venteFrom",value:l.date_venteFrom,onChange:o,InputLabelProps:{shrink:!0}}),(0,q.jsx)(E.A,{margin:"dense",id:"date_venteTo",label:"Date vente To",type:"date",fullWidth:!0,name:"date_venteTo",value:l.date_venteTo,onChange:o,InputLabelProps:{shrink:!0}}),(0,q.jsx)(E.A,{margin:"dense",id:"prix_venteMin",label:"Prix de vente Min",type:"number",fullWidth:!0,name:"prix_venteMin",value:l.prix_venteMin,onChange:o}),(0,q.jsx)(E.A,{margin:"dense",id:"prix_venteMax",label:"Prix de vente Max",type:"number",fullWidth:!0,name:"prix_venteMax",value:l.prix_venteMax,onChange:o}),(0,q.jsx)(E.A,{margin:"dense",id:"beneficeMin",label:"B\xe9n\xe9fice Min",type:"number",fullWidth:!0,name:"beneficeMin",value:l.beneficeMin,onChange:o}),(0,q.jsx)(E.A,{margin:"dense",id:"beneficeMax",label:"B\xe9n\xe9fice Max",type:"number",fullWidth:!0,name:"beneficeMax",value:l.beneficeMax,onChange:o})]})]})})}),(0,q.jsxs)(B.A,{children:[(0,q.jsx)(b.A,{color:"error",onClick:()=>{s({piece:"",type:"",nombreMin:"",nombreMax:"",prix_achat_totalMin:"",prix_achat_totalMax:"",prix_achatMin:"",prix_achatMax:"",prix_vente_unitaireMin:"",prix_vente_unitaireMax:"",date_venteFrom:"",date_venteTo:"",prix_venteMin:"",prix_venteMax:"",beneficeMin:"",beneficeMax:""}),a({}),i()},children:"Effacer"}),(0,q.jsx)(b.A,{onClick:()=>{a(l),i()},children:"Filtrer"})]})]})};i(14261);const Y=[{id:"piece",numeric:!1,disablePadding:!1,label:"Pi\xe8ce"},{id:"type",numeric:!1,disablePadding:!1,label:"Type"},{id:"nombre",numeric:!0,disablePadding:!1,label:"Quantit\xe9"},{id:"prixAchatTotal",numeric:!0,disablePadding:!1,label:"Prix Achat Total"},{id:"prixAchat",numeric:!0,disablePadding:!1,label:"Prix Achat"},{id:"prixVenteUnitaire",numeric:!0,disablePadding:!1,label:"Prix Vente Unitaire"},{id:"dateVente",numeric:!1,disablePadding:!1,label:"Date Vente"},{id:"prixVente",numeric:!0,disablePadding:!1,label:"Prix Vente"},{id:"benefice",numeric:!0,disablePadding:!1,label:"B\xe9n\xe9fice"},{id:"action",numeric:!1,disablePadding:!1,label:"Action"}];function Z(e){const{onSelectAllClick:t,order:i,orderBy:n,numSelected:a,rowCount:l,onRequestSort:s}=e;return(0,q.jsx)(c.A,{children:(0,q.jsxs)(d.A,{children:[(0,q.jsx)(x.A,{padding:"checkbox",children:(0,q.jsx)(S.A,{color:"primary",checked:l>0&&a===l,onChange:t,inputProps:{"aria-label":"select all"}})}),Y.map((e=>{return(0,q.jsx)(x.A,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:n===e.id&&i,children:(0,q.jsxs)(p.A,{active:n===e.id,direction:n===e.id?i:"asc",onClick:(t=e.id,e=>{s(e,t)}),children:[e.label,n===e.id?(0,q.jsx)(r.A,{component:"span",sx:C.A,children:"desc"===i?"sorted descending":"sorted ascending"}):null]})},e.id);var t}))]})})}const ee=e=>{let{numSelected:t,handleSearch:i,search:a,applyFilters:l,handleExport:o}=e;const[c,d]=(0,n.useState)(!1);return(0,q.jsxs)(h.A,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...t>0&&{bgcolor:e=>(0,s.X4)(e.palette.primary.main,e.palette.action.activatedOpacity)}},children:[t>0?(0,q.jsxs)(u.A,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle2",component:"div",children:[t," selected"]}):(0,q.jsx)(r.A,{sx:{flex:"1 1 100%"},children:(0,q.jsx)(m.A,{InputProps:{startAdornment:(0,q.jsx)(_.A,{position:"start",children:(0,q.jsx)(w.C0l,{size:"1.1rem"})})},placeholder:"Rechercher une luise",size:"small",onChange:i,value:a})}),(0,q.jsxs)(r.A,{display:"flex",alignItems:"center",gap:"16px",children:[(0,q.jsx)(b.A,{onClick:o,variant:"contained",color:"success",startIcon:(0,q.jsx)(w.Grb,{}),sx:{width:{xs:"auto",md:"175px"},"& .MuiButton-startIcon":{marginRight:{xs:0,sm:0,md:"8px"}}},children:(0,q.jsx)(r.A,{component:"span",sx:{display:{xs:"none",md:"inline"},whiteSpace:"nowrap"},children:"Export Luises"})}),(0,q.jsx)(N,{}),(0,q.jsx)(K,{open:c,handleClose:()=>{d(!1)},applyFilters:l}),t>0?(0,q.jsx)(v.A,{title:"Delete",children:(0,q.jsx)(g.A,{color:"error",onClick:()=>{window.confirm("Are you sure you want to delete the selected Luises?")},children:(0,q.jsx)(w.Eau,{width:"18"})})}):(0,q.jsx)(v.A,{title:"Filter list",children:(0,q.jsx)(g.A,{color:"primary",onClick:()=>{d(!0)},children:(0,q.jsx)(w.uJ7,{size:"1.2rem"})})})]})]})},te=()=>{const[e,t]=(0,n.useState)("desc"),[i,a]=(0,n.useState)("dateVente"),[l,s]=(0,n.useState)([]),[c,p]=(0,n.useState)(null),[h,m]=(0,n.useState)(0),[_,b]=(0,n.useState)(!1),[C,T]=(0,n.useState)(5),[W,D]=(0,n.useState)(""),[I,F]=(0,n.useState)(!1),[G,R]=(0,n.useState)(null),[B,z]=(0,n.useState)({}),E=(0,k.wA)();(0,n.useEffect)((()=>{E((0,P.m)({page:h,search:W,rowsPerPage:C,...B,order:e,orderBy:i}))}),[E,W,h,C,B,e,i]);const L=(0,k.d4)((e=>e.luiseReducer.luises)),$=(0,k.d4)((e=>e.luiseReducer.total)),[O,N]=(0,n.useState)(L);(0,n.useEffect)((()=>{N(L)}),[L]);const V=(e,t)=>{const i=l.indexOf(t);let n=[];if(-1===i?n=n.concat(l,t):0===i?n=n.concat(l.slice(1)):i===l.length-1?n=n.concat(l.slice(0,-1)):i>0&&(n=n.concat(l.slice(0,i),l.slice(i+1))),n.length>0){const e=L.filter((e=>n.includes(e.id))).map((e=>parseFloat(e.benefice))).reduce(((e,t)=>e+t));p(e)}else p(null);s(n)};return(0,q.jsxs)(A.A,{sx:{width:"100%",mb:2},children:[(0,q.jsx)(ee,{handleExport:()=>{E((0,P.sp)(B))},numSelected:l.length,handleSearch:e=>{D(e.target.value)},search:W,applyFilters:e=>{z(e)}}),(0,q.jsx)(j.A,{children:(0,q.jsxs)(f.A,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:_?"small":"medium",children:[l.length>0&&(0,q.jsxs)("caption",{children:["The total selected rows: ",(0,q.jsxs)("b",{children:[c," DH"]})]}),(0,q.jsx)(Z,{numSelected:l.length,order:e,orderBy:i,onRequestSort:(n,r)=>{t(i===r&&"asc"===e?"desc":"asc"),a(r)},onSelectAllClick:e=>{if(e.target.checked){const e=O.map((e=>e.id)),t=L.map((e=>parseFloat(e.benefice))).reduce(((e,t)=>e+t));return p(t),void s(e)}p(null),s([])},rowCount:O.length}),(0,q.jsxs)(y.A,{children:[O.map((e=>{const t=(i=e.id,-1!==l.indexOf(i));var i;const n=`enhanced-table-checkbox-${e.id}`;return(0,q.jsxs)(d.A,{hover:!0,onClick:t=>V(0,e.id),role:"checkbox","aria-checked":t,tabIndex:-1,selected:t,children:[(0,q.jsx)(x.A,{padding:"checkbox",children:(0,q.jsx)(S.A,{color:"primary",checked:t,onChange:t=>V(0,e.id),inputProps:{"aria-labelledby":n}})}),(0,q.jsx)(x.A,{align:"left",children:e.piece}),(0,q.jsx)(x.A,{align:"left",children:e.type}),(0,q.jsx)(x.A,{align:"right",children:e.nombre}),(0,q.jsx)(x.A,{align:"right",children:e.prix_achat_total}),(0,q.jsx)(x.A,{align:"right",children:e.prix_achat}),(0,q.jsx)(x.A,{align:"right",children:e.prix_vente_unitaire}),(0,q.jsx)(x.A,{align:"left",children:(0,o.A)(new Date(e.date_vente),"dd/MM/yyyy")}),(0,q.jsx)(x.A,{align:"right",children:e.prix_vente}),(0,q.jsx)(x.A,{align:"right",children:e.benefice}),(0,q.jsx)(x.A,{align:"right",children:(0,q.jsxs)(r.A,{display:"flex",alignItems:"center",gap:"8px",children:[(0,q.jsx)(v.A,{title:"Edit",children:(0,q.jsx)(g.A,{color:"primary",onClick:()=>(R(e),void F(!0)),children:(0,q.jsx)(w.GI1,{width:"18"})})}),(0,q.jsx)(v.A,{title:"Delete",children:(0,q.jsx)(g.A,{color:"error",onClick:()=>(e=>{E((0,P.In)(e))})(e.id),children:(0,q.jsx)(w.Eau,{width:"18"})})})]})})]},e.id)})),O.length<=0&&(0,q.jsx)(d.A,{style:{height:265},children:(0,q.jsx)(x.A,{colSpan:Y.length,align:"center",children:(0,q.jsx)(u.A,{variant:"body2",children:"Aucune donn\xe9e disponible"})})})]})]})}),(0,q.jsx)(M.A,{rowsPerPageOptions:[5,10,25],component:"div",count:$,rowsPerPage:C,page:h,onPageChange:(e,t)=>{m(t)},onRowsPerPageChange:e=>{T(parseInt(e.target.value,10)),m(0)}}),G&&(0,q.jsx)(J,{open:I,onClose:()=>{R(null),F(!1)},luiseData:G})]})},ie=()=>(0,q.jsxs)(l.A,{title:"Search Table",description:"this is Search Table page",children:[(0,q.jsx)(a.A,{title:"Liste des luise"}),(0,q.jsx)(r.A,{children:(0,q.jsx)(te,{})})]})},46639:(e,t,i)=>{i.d(t,{A:()=>S});var n=i(98587),r=i(58168),a=i(9950),l=i(60533),s=i(88465),o=i(88283),c=i(61676),d=i(18463),x=i(59254),p=i(1763),h=i(423);function u(e){return(0,h.Ay)("MuiCircularProgress",e)}(0,p.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var m=i(44414);const _=["className","color","disableShrink","size","style","thickness","value","variant"];let b,v,g,A,j=e=>e;const f=44,y=(0,o.i7)(b||(b=j`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),M=(0,o.i7)(v||(v=j`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),C=(0,x.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],t[`color${(0,c.A)(i.color)}`]]}})((e=>{let{ownerState:t,theme:i}=e;return(0,r.A)({display:"inline-block"},"determinate"===t.variant&&{transition:i.transitions.create("transform")},"inherit"!==t.color&&{color:(i.vars||i).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,o.AH)(g||(g=j`
      animation: ${0} 1.4s linear infinite;
    `),y)})),k=(0,x.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),P=(0,x.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.circle,t[`circle${(0,c.A)(i.variant)}`],i.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:i}=e;return(0,r.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:i.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,o.AH)(A||(A=j`
      animation: ${0} 1.4s ease-in-out infinite;
    `),M)})),S=a.forwardRef((function(e,t){const i=(0,d.b)({props:e,name:"MuiCircularProgress"}),{className:a,color:o="primary",disableShrink:x=!1,size:p=40,style:h,thickness:b=3.6,value:v=0,variant:g="indeterminate"}=i,A=(0,n.A)(i,_),j=(0,r.A)({},i,{color:o,disableShrink:x,size:p,thickness:b,value:v,variant:g}),y=(e=>{const{classes:t,variant:i,color:n,disableShrink:r}=e,a={root:["root",i,`color${(0,c.A)(n)}`],svg:["svg"],circle:["circle",`circle${(0,c.A)(i)}`,r&&"circleDisableShrink"]};return(0,s.A)(a,u,t)})(j),M={},S={},w={};if("determinate"===g){const e=2*Math.PI*((f-b)/2);M.strokeDasharray=e.toFixed(3),w["aria-valuenow"]=Math.round(v),M.strokeDashoffset=`${((100-v)/100*e).toFixed(3)}px`,S.transform="rotate(-90deg)"}return(0,m.jsx)(C,(0,r.A)({className:(0,l.A)(y.root,a),style:(0,r.A)({width:p,height:p},S,h),ownerState:j,ref:t,role:"progressbar"},w,A,{children:(0,m.jsx)(k,{className:y.svg,ownerState:j,viewBox:"22 22 44 44",children:(0,m.jsx)(P,{className:y.circle,style:M,ownerState:j,cx:f,cy:f,r:(f-b)/2,fill:"none",strokeWidth:b})})}))}))},80691:(e,t,i)=>{i.d(t,{A:()=>n});const n={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"}}}]);