"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[979],{25803:(e,t,a)=>{a.d(t,{A:()=>c});a(9950);var i=a(59254),n=a(70006),r=a(44414);const c=(0,i.Ay)((e=>(0,r.jsx)(n.A,{...e})))()},19895:(e,t,a)=>{a.d(t,{G:()=>i});const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;const a=Math.pow(10,t);return(Math.trunc(e*a)/a).toFixed(t)}},57401:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Z});var i=a(9950),n=a(82569),r=a(16491),c=a(60899),s=a(10226),o=a(12257),l=a(43279),d=a(79196),h=a(59051),g=a.n(h),p=a(50704),x=a(82053);const b=a.p+"static/media/icon-connect.838b2e98063c3ad594105e2b016263b0.svg";const m=a.p+"static/media/icon-user-male.69d73a518b893cd8a6192ba4b5fbd2d0.svg";const u=a.p+"static/media/icon-briefcase.21c4207b963696cb74234633c956ef05.svg";const j=a.p+"static/media/icon-mailbox.82b26dce700d10fbbde40c578da4dead.svg";const A=a.p+"static/media/icon-favorites.23688cc04af81a3733a3f9a4abc8e47b.svg";const f=a.p+"static/media/icon-speech-bubble.8f9c8babc3750ac6780671aac10d6eb3.svg";const y=a.p+"static/media/payment-terminal.8386d27f499293cc5e058b1d285a8e71.svg";const v=a.p+"static/media/cheque.e45f00c8147673d2f158b53be8a1faba.svg";const D=a.p+"static/media/earning.75d57aa365d5d72f59da0822eef88167.svg";const w=a.p+"static/media/bank.681b637eea4ec0920f2c7def5c2dfeba.svg";const C=a.p+"static/media/sac-gold.4044c95aae484a9ddead068cf54c66b1.svg";const _=a.p+"static/media/gold.015bb538084e8a6d5b0a7f5c4d5557be.svg";a.p;var H=a(19895),S=a(44414);const k=[{href:"/user-profile",icon:m,title:"CAPITAL VENDU",name:"capital_vendu",digits:"3,685 DH",bgcolor:"primary",currency:!0},{href:"/apps/blog/posts",icon:u,title:"CHAIFFRE D'AFFAIRE",name:"turnover",digits:"256K DH",bgcolor:"warning",currency:!0},{href:"/apps/calendar",icon:j,title:"STOCK VENDU",name:"stock_vendu",digits:"932",bgcolor:"secondary",currency:!1},{href:"/apps/email",icon:A,title:"LES CHARGES",name:"expenses",digits:"348K DH",bgcolor:"error",currency:!0},{href:"/apps/chats",icon:f,title:"B\xe9n\xe9fice",name:"capital_benefit",digits:"96K DH",bgcolor:"success",currency:!0},{href:"/apps/chats",icon:f,title:"B\xe9n\xe9fice Net",name:"benefice_net",digits:"96K DH",bgcolor:"success",currency:!0},{href:"/apps/contacts",icon:b,title:"CR\xc9DIT",name:"credit",digits:"48K DH",bgcolor:"error",currency:!0},{href:"/apps/contacts",icon:y,title:"TPE",name:"tpe",digits:"48K DH",bgcolor:"primary",currency:!0},{href:"/apps/contacts",icon:v,title:"Ch\xe8que",name:"cheque",digits:"48K DH",bgcolor:"warning",currency:!0},{href:"/apps/contacts",icon:D,title:"B\xe9n\xe9fice div",name:"benefit",digits:"48K DH",bgcolor:"primary",currency:!0},{href:"/apps/contacts",icon:w,name:"banque",title:"Banque",digits:"48K DH",bgcolor:"info",currency:!0},{href:"/apps/contacts",icon:C,title:"Achat d'or chedaya",name:"achat_chdaya_total",digits:"48K DH",bgcolor:"warning",currency:!0},{href:"/apps/contacts",icon:_,title:"Achat d'or neuf",name:"achat_neuf_total",digits:"48K DH",bgcolor:"warning",currency:!0},{href:"/apps/contacts",icon:_,title:"Cash estimate",name:"estimation_caisse",digits:"48K DH",bgcolor:"success",currency:!0}],I=e=>{let{data:t}=e;return(0,S.jsx)(c.Ay,{container:!0,spacing:3,mt:3,children:k.map(((e,a)=>(0,S.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,S.jsxs)(r.A,{children:[(0,S.jsx)(r.A,{bgcolor:e.bgcolor+".light",textAlign:"center",children:(0,S.jsxs)(p.A,{children:[(0,S.jsx)("img",{src:e.icon,alt:e.icon,width:"50"}),(0,S.jsx)(x.A,{color:e.bgcolor+".main",mt:1,variant:"subtitle1",fontWeight:600,children:e.title}),(0,S.jsxs)(x.A,{color:e.bgcolor+".main",variant:"h4",fontWeight:600,children:[t[e.name]||0," ",e.currency&&"DH"]})]})}),"stock_vendu"==e.name&&(0,S.jsxs)(r.A,{gap:"5px",flexDirection:"row",display:"flex",justifyContent:"space-between",flexWrap:"wrap",children:[(0,S.jsx)(r.A,{bgcolor:e.bgcolor+".light",textAlign:"center",marginTop:"1em",padding:"1em",children:(0,S.jsx)(x.A,{color:e.bgcolor+".main",variant:"h4",fontWeight:600,children:(0,S.jsxs)(S.Fragment,{children:[(0,H.G)(t.capital_vendu/t[e.name],2),(0,S.jsx)("sub",{children:(0,S.jsx)("small",{children:"p/g"})})]})})}),(0,S.jsx)(r.A,{bgcolor:e.bgcolor+".light",textAlign:"center",marginTop:"1em",padding:"1em",children:(0,S.jsx)(x.A,{color:e.bgcolor+".main",variant:"h4",fontWeight:600,children:(0,S.jsxs)(S.Fragment,{children:[(0,H.G)(t.turnover/t[e.name],2),(0,S.jsx)("sub",{children:(0,S.jsx)("small",{children:"p/g"})})]})})})]}),"achat_chdaya_total"==e.name&&(0,S.jsxs)(r.A,{gap:"5px",flexDirection:"row",display:"flex",justifyContent:"space-between",children:[(0,S.jsx)(r.A,{bgcolor:e.bgcolor+".light",textAlign:"center",marginTop:"1em",padding:"1em",children:(0,S.jsxs)(x.A,{color:e.bgcolor+".main",variant:"h4",fontWeight:600,children:[(0,H.G)(t.achat_chdaya_weight,2),(0,S.jsx)("sub",{children:(0,S.jsx)("small",{children:"g"})})]})}),(0,S.jsx)(r.A,{bgcolor:e.bgcolor+".light",textAlign:"center",marginTop:"1em",padding:"1em",children:(0,S.jsxs)(x.A,{color:e.bgcolor+".main",variant:"h4",fontWeight:600,children:[(0,H.G)(t[e.name]/t.achat_chdaya_weight,2),(0,S.jsx)("sub",{children:(0,S.jsx)("small",{children:"prix/g"})})]})})]}),"achat_neuf_total"==e.name&&(0,S.jsxs)(r.A,{gap:"5px",flexDirection:"row",display:"flex",justifyContent:"space-between",children:[(0,S.jsx)(r.A,{bgcolor:e.bgcolor+".light",textAlign:"center",marginTop:"1em",padding:"1em",children:(0,S.jsxs)(x.A,{color:e.bgcolor+".main",variant:"h4",fontWeight:600,children:[(0,H.G)(t.achat_neuf_weight,2),(0,S.jsx)("sub",{children:(0,S.jsx)("small",{children:"g"})})]})}),(0,S.jsx)(r.A,{bgcolor:e.bgcolor+".light",textAlign:"center",marginTop:"1em",padding:"1em",children:(0,S.jsxs)(x.A,{color:e.bgcolor+".main",variant:"h4",fontWeight:600,children:[(0,H.G)(t[e.name]/t.achat_neuf_weight,2),(0,S.jsx)("sub",{children:(0,S.jsx)("small",{children:"prix/g"})})]})})]})]})},a)))})};var K=a(39452),O=a(14857),W=a(48089);const q=e=>{let{title:t,subtitle:a,children:i,action:c,footer:s,cardheading:l,headtitle:d,headsubtitle:h,middlecontent:g}=e;const b=(0,n.d4)((e=>e.customizer)),m=(0,O.A)().palette.grey[100];return(0,S.jsxs)(W.A,{sx:{padding:0,border:b.isCardShadow?"none":`1px solid ${m}`},elevation:b.isCardShadow?9:0,variant:b.isCardShadow?void 0:"outlined",children:[l?(0,S.jsxs)(p.A,{children:[(0,S.jsx)(x.A,{variant:"h5",children:d}),(0,S.jsx)(x.A,{variant:"subtitle2",color:"textSecondary",children:h})]}):(0,S.jsxs)(p.A,{sx:{p:"30px"},children:[t?(0,S.jsxs)(o.A,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,S.jsxs)(r.A,{children:[t?(0,S.jsx)(x.A,{variant:"h5",children:t}):"",a?(0,S.jsx)(x.A,{variant:"subtitle2",color:"textSecondary",children:a}):""]}),c]}):null,i]}),g,s]})};const E={href:"/apps/contacts",icon:a.p+"static/media/riyal.523176af92c1190f3410d12f2bdcdea4.svg",title:"Ch\xe8que",digits:"48K DH",bgcolor:"warning"},T=e=>{let{data:t}=e;const a=(0,O.A)();a.palette.primary.main,a.palette.primary.light,a.palette.success.light;return(0,S.jsx)(q,{title:"Luise",children:(0,S.jsxs)(c.Ay,{container:!0,spacing:3,children:[(0,S.jsx)(c.Ay,{item:!0,xs:7,sm:7,children:(0,S.jsx)(r.A,{alignItems:"center",children:(0,S.jsxs)(x.A,{variant:"h3",fontWeight:"700",children:[t.luise_total," DH"]})})}),(0,S.jsx)(c.Ay,{item:!0,xs:5,sm:5,children:(0,S.jsx)(o.A,{direction:"row",alignItems:"center",justifyContent:"center",children:(0,S.jsx)("img",{src:E.icon,alt:E.icon,width:"100"})})})]})})};var G=a(41413),F=a(85111);const R=e=>{let{data:t}=e;const a=(0,O.A)(),i=a.palette.primary.main,n=a.palette.primary.light,c=(a.palette.error.main,a.palette.error.light,a.palette.success.main),s=a.palette.success.light,l=[{title:"Alpha Avance",subtitle:t.credit_alpha+" DH",color:i,lightcolor:n,icon:(0,S.jsx)(F.Q$s,{width:18})},{title:"Beta Avance",subtitle:t.credit_haj+" DH",color:c,lightcolor:s,icon:(0,S.jsx)(F.Q$s,{width:18})},{title:"Client avance",subtitle:t.credit_client+" DH",color:a.palette.warning.main,lightcolor:a.palette.warning.light,icon:(0,S.jsx)(F.Q$s,{width:18})}];return(0,S.jsx)(q,{title:"Credit de patron",subtitle:"credit de alpha et de beta",children:(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(o.A,{spacing:3,mt:3,children:l.map(((e,t)=>(0,S.jsx)(o.A,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",children:(0,S.jsxs)(o.A,{direction:"row",alignItems:"center",spacing:2,children:[(0,S.jsx)(G.A,{variant:"rounded",sx:{bgcolor:e.lightcolor,color:e.color,width:40,height:40},children:e.icon}),(0,S.jsxs)(r.A,{children:[(0,S.jsx)(x.A,{variant:"h6",mb:"4px",children:e.title}),(0,S.jsx)(x.A,{variant:"subtitle2",color:"textSecondary",children:(0,S.jsx)("b",{children:e.subtitle})})]})]})},t)))})})})},B=e=>{let{title:t,subtitle:a,children:i,dataLabel1:c,dataItem1:s,dataLabel2:o,dataItem2:l}=e;const d=(0,n.d4)((e=>e.customizer)),h=(0,O.A)().palette.grey[100];return(0,S.jsx)(W.A,{sx:{padding:0,border:d.isCardShadow?"none":`1px solid ${h}`},elevation:d.isCardShadow?9:0,variant:d.isCardShadow?void 0:"outlined",children:(0,S.jsxs)(p.A,{sx:{p:"30px"},children:[t?(0,S.jsxs)(r.A,{children:[t?(0,S.jsx)(x.A,{variant:"h5",children:t}):"",a?(0,S.jsx)(x.A,{variant:"subtitle2",color:"textSecondary",children:a}):""]}):null,i]})})},Y=e=>{let{data:t}=e;const a=(0,O.A)(),i=a.palette.primary.main,n=a.palette.grey[100],r={chart:{type:"bar",fontFamily:"'Plus Jakarta Sans', sans-serif;",foreColor:"#adb0bb",toolbar:{show:!1},height:280},colors:[n,n,i,i],plotOptions:{bar:{borderRadius:4,columnWidth:"45%",distributed:!0,endingShape:"rounded"}},dataLabels:{enabled:!1},legend:{show:!1},grid:{yaxis:{lines:{show:!1}}},xaxis:{categories:t.turnover_by_vendor[0],axisBorder:{show:!1}},yaxis:{labels:{show:!1}},tooltip:{theme:"dark"===a.palette.mode?"dark":"light"}},c=[{name:"",data:t.turnover_by_vendor[1]}];return(0,S.jsx)(B,{title:"Employee Chiffre d'Affaire",subtitle:"par Employee",children:(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(K.A,{options:r,series:c,type:"bar",height:"280px"})})})};a(25803),a(96698),a(84549),a(56936);var L=a(38523);var $=a(63464),M=a(40033),z=a(28170),P=a(79739),N=a(20162),Q=a(28973);a(39890),a(34779);const U=e=>{let{open:t,onClose:a,onApply:n}=e;const c=(0,O.A)(),[o,l]=(0,i.useState)({startDate:g()().startOf("month").startOf("day").toDate(),endDate:g()().endOf("month").startOf("day").toDate(),key:"selection"});return(0,S.jsxs)($.A,{open:t,onClose:a,maxWidth:"md",fullWidth:!0,children:[(0,S.jsx)(M.A,{children:"S\xe9lectionner une plage de dates"}),(0,S.jsx)(z.A,{children:(0,S.jsxs)(r.A,{display:"flex",justifyContent:"center",children:[" ",(0,S.jsx)(N.Ur,{ranges:[o],onChange:e=>{l(e.selection)},locale:Q.A,rangeColors:[c.palette.primary.main,c.palette.success.main,c.palette.warning.main]})]})}),(0,S.jsxs)(P.A,{children:[(0,S.jsx)(s.A,{onClick:a,color:"secondary",children:"Annuler"}),(0,S.jsx)(s.A,{onClick:()=>{n(o),a()},color:"primary",children:"Appliquer"})]})]})};var V=a(49697);const J=a.p+"static/media/user-5.3318c804dd3779d5b5bb.jpg",X=e=>{let{data:t}=e;return(0,S.jsx)(q,{title:"Partage des b\xe9n\xe9fices",subtitle:"b\xe9n\xe9fice de alpha et de beta",children:(0,S.jsxs)(o.A,{direction:"column",spacing:2,children:[(0,S.jsxs)(o.A,{direction:"row",spacing:2,children:[(0,S.jsx)(G.A,{src:L,alt:L,sx:{borderRadius:"8px",width:70,height:70}}),(0,S.jsxs)(r.A,{children:[(0,S.jsx)(x.A,{variant:"h5",children:"Alpha"}),(0,S.jsxs)(x.A,{variant:"subtitle2",color:"green",children:["Capital vendu: ",t.capital_vendu]}),(0,S.jsxs)(x.A,{variant:"subtitle2",color:"green",children:["+ Benefice net: (",t.benefice_net," * 0.75)"]}),(0,S.jsxs)(x.A,{variant:"subtitle2",color:"green",children:["- Credit: ",t.credit_alpha]}),(0,S.jsxs)(x.A,{variant:"subtitle2",color:"green",children:["- Ch\xe8que envoy\xe9: ",t.banque]}),(0,S.jsxs)(x.A,{variant:"subtitle2",color:"green",children:["- Tpe: ",t.tpe]}),(0,S.jsxs)(x.A,{variant:"subtitle2",color:"green",children:["- Achat d'or neuf: ",t.achat_neuf_total]}),(0,S.jsxs)(x.A,{variant:"subtitle2",color:"green",children:["- Achat d'or chedaya: ",t.achat_chdaya_total]}),(0,S.jsxs)(x.A,{variant:"h6",color:"blue",children:["= ",(0,H.G)(t.total_alpha||0,2)," DH"]}),(0,S.jsxs)(x.A,{variant:"subtitle2",color:"black",children:["(Esp\xe8ce: ",(0,H.G)((t.total_alpha||0)-t.cheque,2)," + Ch\xe8que: ",t.cheque,")"]})]})]}),(0,S.jsxs)(o.A,{direction:"row",spacing:2,children:[(0,S.jsx)(G.A,{src:J,alt:J,sx:{borderRadius:"8px",width:70,height:70}}),(0,S.jsxs)(r.A,{children:[(0,S.jsx)(x.A,{variant:"h5",children:"Beta"}),(0,S.jsxs)(x.A,{variant:"h6",color:"blue",children:[(0,H.G)(.25*t.benefice_net-t.credit_haj,2)," DH"]})]})]})]})})},Z=()=>{const e=(0,n.wA)(),t=(0,n.d4)((e=>e.dashboardReducer.data)),a=(0,n.d4)((e=>e.dashboardReducer.loading)),h=(0,n.d4)((e=>e.dashboardReducer.error)),[p,x]=(0,i.useState)(!1),[b,m]=(0,i.useState)({startDate:g()().startOf("month").startOf("day").toDate(),endDate:g()().endOf("month").startOf("day").toDate(),key:"selection"});(0,i.useEffect)((()=>{if(b.startDate&&b.endDate){const t=g()(b.startDate).utc().add(1,"day").startOf("day").toISOString(),a=g()(b.endDate).utc().add(1,"day").endOf("day").toISOString();e((0,V.Hb)({from:t,to:a}))}}),[e,b]);const u=b.startDate&&b.endDate?`P\xe9riode s\xe9lectionn\xe9e (${g()(b.startDate).format("YYYY-MM-DD")} - ${g()(b.endDate).format("YYYY-MM-DD")})`:"Choisir une p\xe9riode",j={textTransform:"none",fontSize:"16px",padding:"8px 16px",backgroundColor:b.startDate&&b.endDate?"#f0f0f0":"transparent",color:b.startDate&&b.endDate?"#333":"primary.main",borderColor:b.startDate&&b.endDate?"#ccc":"primary.main"};return(0,S.jsx)(r.A,{children:(0,S.jsxs)(c.Ay,{container:!0,spacing:3,children:[(0,S.jsxs)(c.Ay,{item:!0,xs:12,children:[(0,S.jsx)(s.A,{variant:"outlined",color:"primary",onClick:()=>x(!0),startIcon:b.startDate&&b.endDate?(0,S.jsx)(l.A,{}):(0,S.jsx)(d.A,{}),sx:j,children:u}),(0,S.jsx)(U,{open:p,onClose:()=>x(!1),onApply:e=>{m(e)}})]}),a&&(0,S.jsx)(c.Ay,{item:!0,xs:12,children:(0,S.jsx)("p",{children:"Loading..."})}),h&&(0,S.jsx)(c.Ay,{item:!0,xs:12,children:(0,S.jsxs)("p",{children:["Error: ",h]})}),(0,S.jsx)(c.Ay,{item:!0,xs:12,lg:12,children:(0,S.jsx)(I,{data:t})}),(0,S.jsx)(c.Ay,{item:!0,xs:12,lg:4,children:(0,S.jsxs)(o.A,{spacing:2,children:[(0,S.jsx)(T,{data:t}),(0,S.jsx)(R,{data:t})]})}),(0,S.jsx)(c.Ay,{item:!0,xs:12,lg:8,children:(0,S.jsxs)(o.A,{spacing:2,children:[(0,S.jsx)(Y,{data:t}),(0,S.jsx)(X,{data:t})]})})]})})}},96698:(e,t,a)=>{e.exports=a.p+"static/media/user-1.479b494978354b339dab.jpg"},84549:(e,t,a)=>{e.exports=a.p+"static/media/user-2.b352c8b1901e53dbefa3.jpg"},56936:(e,t,a)=>{e.exports=a.p+"static/media/user-3.8cc7fd64f4a86f977c28.jpg"},38523:(e,t,a)=>{e.exports=a.p+"static/media/user-4.419f08b62e6d911eca8c.jpg"}}]);